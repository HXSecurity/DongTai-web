{"version":3,"sources":["webpack:///./src/views/setting/AgentManage.vue?b104","webpack:///./src/views/setting/AgentManage.vue?d7c8","webpack:///./src/views/setting/AgentManage.vue?0bcf","webpack:///./src/views/setting/AgentManage.vue","webpack:///./src/views/setting/AgentManage.vue?fc97"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","_l","item","key","value","class","state","on","$event","changeState","label","staticStyle","attrs","searchTable","model","callback","$$v","searchValue","expression","multipleSelection","length","agentStart","agentStop","deleteAgents","tableData","handleSelectionChange","scopedSlots","_u","fn","ref","row","project_name","server","system_load","rate","flow","method_queue","replay_queue","report_queue","is_core_running","running_status","scope","_f","latest_time","register_time","slot","userInfo","role","_e","language","isEdit","$set","alias","enterEdit","closeEdit","openEdit","is_control","id","doDelete","total","page","pageSize","currentChange","sizeChange","deleteDialogOpen","agentDelete","staticRenderFns","currentPageSize","currentPageDelete","deleteSelectId","stateOptions","getTableData","timeOuter","clearTimeout","setTimeout","backAlias","services","setting","aliasModified","res","status","$message","success","msg","error","val","clearInterval","timer","setInterval","parseInt","some","params","agentList","data","type","message","showClose","dataMap","forEach","JSON","parse","err","token","loadingStart","loadingDone","alltotal","agentInstall","warning","$confirm","confirmButtonText","cancelButtonText","then","ids","String","map","agentUninstall","$store","getters","VueBase","name","filters","formatTimestamp","date","component"],"mappings":"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","file":"js/chunk-b74da10c.c53381d8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-warp\"},[_c('div',{staticClass:\"tool-bar\"},[_c('div',{staticClass:\"selectForm\"},[_c('div',{staticClass:\"select-item\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.state'))+\"：\")]),_vm._l((_vm.stateOptions),function(item){return _c('div',{key:item.value,staticClass:\"select-item\",class:item.value === _vm.state && 'active',on:{\"click\":function($event){return _vm.changeState(item)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])})],2),_c('div',{staticClass:\"tool-bar\"},[_c('el-input',{staticStyle:{\"margin-left\":\"12px\"},attrs:{\"size\":\"small\",\"placeholder\":_vm.$t('views.agentManage.searchValue')},on:{\"input\":_vm.searchTable},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1)]),_c('div',{staticClass:\"button-bar\"},[_c('div',{staticStyle:{\"color\":\"rgb(56, 67, 90)\"}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.choose'))+\" \"),_c('span',{staticStyle:{\"color\":\"rgb(74, 114, 174)\"}},[_vm._v(_vm._s(_vm.multipleSelection.length))]),_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.strip'))+\" \")]),_c('div',[_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\",\"disabled\":!_vm.state},on:{\"click\":function($event){return _vm.agentStart(0)}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.on')))]),_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\",\"disabled\":!_vm.state},on:{\"click\":function($event){return _vm.agentStop(0)}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.off')))]),_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.deleteAgents}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.del')))])],1)]),_c('el-table',{staticClass:\"agentManageTable\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"header-align\":\"center\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.projectName'),\"prop\":\"project_name\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.project_name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.address'),\"prop\":\"server\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.server)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"150\",\"label\":_vm.$t('views.agentManage.payload'),\"prop\":\"system_load\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.system_load ? row.system_load.rate : '')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.flow') +\n        ' (' +\n        _vm.$t('views.agentManage.step') +\n        ')',\"prop\":\"is_core_running\",\"width\":\"140px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',[_vm._v(_vm._s(row.flow || 0))])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.method_queue') +\n        ' (' +\n        _vm.$t('views.agentManage.item') +\n        ')',\"prop\":\"server\",\"width\":\"170px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.method_queue)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.replay_queue') +\n        ' (' +\n        _vm.$t('views.agentManage.item') +\n        ')',\"width\":\"160px\",\"prop\":\"server\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.replay_queue)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.report_queue') +\n        ' (' +\n        _vm.$t('views.agentManage.item') +\n        ')',\"width\":\"160px\",\"prop\":\"server\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.report_queue)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.status'),\"prop\":\"is_core_running\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s(row.is_core_running == 1 ? _vm.$t('views.agentManage.is_core_running') : _vm.$t('views.agentManage.is_core_not_running'))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.healthy'),\"prop\":\"running_status\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s(row.running_status)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"170px\",\"label\":_vm.$t('views.agentManage.timestapm')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatTimestamp\")(scope.row.latest_time))+\" \"),_c('el-popover',{attrs:{\"placement\":\"top-start\",\"width\":\"170\",\"trigger\":\"hover\"}},[_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#ccc\",\"margin-bottom\":\"6px\"}},[_vm._v(\" Agent 注册时间: \")]),_c('p',[_vm._v(_vm._s(_vm._f(\"formatTimestamp\")(scope.row.register_time)))]),_c('i',{staticClass:\"el-icon-info\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})])]}}])}),(_vm.userInfo.role === 1 || _vm.userInfo.role === 2)?_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.startupTime'),\"prop\":\"startup_time\",\"width\":\"180px\"}}):_vm._e(),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.owner'),\"prop\":\"owner\",\"width\":\"120px\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.language'),\"prop\":\"language\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.language)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Agent\",\"width\":\"320\",\"prop\":\"alias\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [(!row.isEdit)?_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"dot\",staticStyle:{\"width\":\"280px\"},attrs:{\"title\":row.alias}},[_vm._v(\" \"+_vm._s(row.alias)+\" \")]),_c('i',{staticClass:\"edit-icon el-icon-edit\",on:{\"click\":function($event){return _vm.openEdit(row)}}})]):_c('div',{staticClass:\"edit-agent\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('el-input',{staticStyle:{\"width\":\"280px\"},attrs:{\"maxlength\":\"100\"},model:{value:(row.alias),callback:function ($$v) {_vm.$set(row, \"alias\", $$v)},expression:\"row.alias\"}}),_c('span',{staticClass:\"alias-num\"},[_vm._v(_vm._s(row.alias.length)+\"/100\")]),_c('i',{staticClass:\"edit-icon el-icon-check\",on:{\"click\":function($event){return _vm.enterEdit(row)}}}),_c('i',{staticClass:\"edit-icon el-icon-close\",on:{\"click\":function($event){return _vm.closeEdit(row)}}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.manage'),\"width\":\"140px\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"icon-box\"},[(row.is_control === 1)?[_c('i',{staticClass:\"icon el-icon-loading\",class:!_vm.state && 'icon-disabled'})]:[(row.is_core_running == 0)?_c('i',{staticClass:\"icon el-icon-video-play\",class:!_vm.state && 'icon-disabled',on:{\"click\":function($event){return _vm.agentStart(row.id)}}}):_c('i',{staticClass:\"icon el-icon-video-pause\",class:!_vm.state && 'icon-disabled',on:{\"click\":function($event){return _vm.agentStop(row.id)}}})],_c('i',{staticClass:\"icon el-icon-delete\",on:{\"click\":function($event){return _vm.doDelete(row.id)}}})],2)]}}])})],1),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"total\":_vm.total,\"current-page\":_vm.page,\"page-size\":_vm.pageSize,\"layout\":\"total,sizes, prev, pager, next, jumper\",\"page-sizes\":[10, 20, 30, 40, 50]},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}}),_c('el-dialog',{attrs:{\"visible\":_vm.deleteDialogOpen,\"title\":_vm.$t('views.agentManage.delAgent'),\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.deleteDialogOpen=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',{staticStyle:{\"color\":\"#959fb4\"}},[_vm._v(_vm._s(_vm.$t('views.agentManage.agentDelInfo')))]),_c('p',{staticStyle:{\"color\":\"#959fb4\",\"margin-top\":\"14px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.agentDelPop'))+\" \")])]),_c('div',{staticStyle:{\"text-align\":\"center\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"confirmDel\",on:{\"click\":_vm.agentDelete}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.enterDel'))+\" \")]),_c('el-button',{staticClass:\"cancelDel\",on:{\"click\":function($event){_vm.deleteDialogOpen = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.clear'))+\" \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport VueBase from '@/VueBase'\nimport { Component } from 'vue-property-decorator'\nimport { AgentListObj } from '@/views/setting/types'\nimport { formatTimestamp } from '@/utils/utils'\n\n@Component({\n  name: 'AgentManage',\n  filters: {\n    formatTimestamp(date: number | any) {\n      return formatTimestamp(date)\n    },\n  },\n})\nexport default class AgentManage extends VueBase {\n  private tableData: Array<AgentListObj> = []\n  private total = 0\n  private page = 1\n  private state = 1\n  private pageSize = 10\n  private currentPageSize = 0\n  private currentPageDelete = 0\n  private deleteDialogOpen = false\n  private deleteSelectId = 0\n  private stateOptions = [\n    { value: 1, label: this.$t('views.agentManage.running') },\n    { value: 0, label: this.$t('views.agentManage.not_running') },\n  ]\n  private searchValue = ''\n  private multipleSelection = []\n  created() {\n    this.getTableData()\n    // this.timer = setInterval(() => {\n    //   this.reflashTable()\n    // }, 5000)\n  }\n  private timer: any\n  private timeOuter: any\n  private searchTable() {\n    if (this.timeOuter) {\n      clearTimeout(this.timeOuter)\n      this.timeOuter = null\n    } else {\n      setTimeout(() => {\n        this.getTableData()\n      }, 400)\n    }\n  }\n\n  private openEdit(item: any) {\n    item.isEdit = true\n    item.backAlias = item.alias\n  }\n\n  private closeEdit(item: any) {\n    item.isEdit = false\n    item.alias = item.backAlias\n  }\n\n  get userInfo() {\n    return this.$store.getters.userInfo\n  }\n\n  private async enterEdit(item: any) {\n    const res = await this.services.setting.aliasModified({\n      id: item.id,\n      alias: item.alias,\n    })\n    if (res.status === 201) {\n      this.$message.success(res.msg)\n      item.isEdit = false\n    } else {\n      this.$message.error(res.msg)\n    }\n  }\n\n  private handleSelectionChange(val: any) {\n    this.multipleSelection = val\n  }\n  private beforeDestroy() {\n    clearInterval(this.timer)\n  }\n  private changeState(item: any) {\n    this.state = item.value\n    this.page = 1\n    this.getTableData()\n    if (this.state == 1) {\n      this.timer = setInterval(() => {\n        this.getTableData()\n      }, 5000)\n    } else {\n      clearInterval(this.timer)\n      this.timer = null\n    }\n  }\n  private currentChange(val: number | string) {\n    this.page = parseInt(`${val}`)\n    this.getTableData()\n  }\n\n  private sizeChange(val: number | string) {\n    this.pageSize = parseInt(`${val}`)\n    this.getTableData()\n  }\n\n  private async reflashTable() {\n    if (this.tableData.some((item: any) => item.isEdit)) {\n      return\n    }\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      state: this.state,\n    }\n    const { status, msg, data } = await this.services.setting.agentList(params)\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    const dataMap = {}\n    data &&\n      data.forEach((item: any) => {\n        return (dataMap[item.id] = item)\n      })\n    this.tableData.forEach((item: any) => {\n      for (const key in item) {\n        item[key] = dataMap[item.id][key]\n      }\n      try {\n        item.system_load = JSON.parse(item.system_load)\n      } catch (err) {\n        item.system_load = { rate: 0 }\n      }\n    })\n  }\n\n  private async getTableData() {\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      state: this.state,\n      token: this.searchValue,\n    }\n    this.loadingStart()\n    const { status, msg, data, page } = await this.services.setting.agentList(\n      params\n    )\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    if (data.length === 0 && this.page > 1) {\n      this.page--\n      await this.getTableData()\n      return\n    }\n    this.tableData = data\n    this.tableData.forEach((item: any) => {\n      this.$set(item, 'isEdit', false)\n      this.$set(item, 'backAlias', '')\n      try {\n        item.system_load = JSON.parse(item.system_load)\n      } catch (err) {\n        item.system_load = { rate: 0 }\n      }\n    })\n    this.currentPageSize = data.length\n    this.total = page.alltotal\n    this.currentPageDelete = 0\n  }\n\n  private async agentInstall(id: string | number) {\n    this.loadingStart()\n    const { status, msg } = await this.services.setting.agentInstall({\n      id: parseInt(`${id}`),\n    })\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    await this.getTableData()\n  }\n\n  private async deleteAgents() {\n    if (this.multipleSelection.length === 0) {\n      this.$message.warning(\n        this.$t('views.agentManage.selectWarning') as string\n      )\n      return\n    }\n    this.$confirm(\n      this.$t('views.agentManage.delAgentInfo') as string,\n      this.$t('views.agentManage.delAgentPop') as string,\n      {\n        confirmButtonText: this.$t(\n          'views.agentManage.confirmButtonText'\n        ) as string,\n        cancelButtonText: this.$t(\n          'views.agentManage.cancelButtonText'\n        ) as string,\n        type: 'warning',\n      }\n    ).then(async () => {\n      this.loadingStart()\n      const params = {\n        ids: String(\n          this.multipleSelection.map((item: any) => parseInt(item.id))\n        ),\n      }\n      const { status, msg } = await this.services.setting.deleteAgents(params)\n      this.loadingDone()\n      if (status !== 201) {\n        this.$message({\n          type: 'error',\n          message: msg,\n          showClose: true,\n        })\n        return\n      }\n      this.$message({\n        type: 'success',\n        message: msg,\n        showClose: true,\n      })\n      await this.getTableData()\n    })\n  }\n\n  private async agentStart(id: any) {\n    if (!this.state) {\n      return\n    }\n    if (id === 0) {\n      if (this.multipleSelection.length === 0) {\n        this.$message.warning(\n          this.$t('views.agentManage.selectWarning') as string\n        )\n        return\n      }\n    }\n    this.loadingStart()\n    let params = {}\n    if (id) {\n      params = { id: parseInt(id) }\n    } else {\n      params = {\n        ids: String(\n          this.multipleSelection.map((item: any) => parseInt(item.id))\n        ),\n      }\n    }\n    const { status, msg } = await this.services.setting.agentStart(params)\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    this.$message({\n      type: 'success',\n      message: msg,\n      showClose: true,\n    })\n    await this.getTableData()\n  }\n\n  private async agentStop(id: any) {\n    if (!this.state) {\n      return\n    }\n    if (id === 0) {\n      if (this.multipleSelection.length === 0) {\n        this.$message.warning(\n          this.$t('views.agentManage.selectWarning') as string\n        )\n        return\n      }\n    }\n    this.loadingStart()\n    let params: any\n    if (id) {\n      params = { id: parseInt(id) }\n    } else {\n      params = {\n        ids: String(\n          this.multipleSelection.map((item: any) => parseInt(item.id))\n        ),\n      }\n    }\n    const { status, msg } = await this.services.setting.agentStop(params)\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    this.$message({\n      type: 'success',\n      message: msg,\n      showClose: true,\n    })\n    await this.getTableData()\n  }\n\n  private async agentUninstall(id: string | number) {\n    this.loadingStart()\n    const { status, msg } = await this.services.setting.agentUninstall({\n      id: parseInt(`${id}`),\n    })\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    await this.getTableData()\n  }\n\n  private async doDelete(id: string | number) {\n    this.deleteDialogOpen = true\n    this.deleteSelectId = parseInt(`${id}`)\n  }\n\n  private async agentDelete() {\n    this.deleteDialogOpen = false\n    this.loadingStart()\n    const { status, msg } = await this.services.setting.agentDelete({\n      id: this.deleteSelectId,\n    })\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    this.currentPageDelete = this.currentPageDelete + 1\n    if (this.currentPageDelete === this.currentPageSize) {\n      this.page = this.page - 1\n    }\n    await this.getTableData()\n    this.deleteSelectId = 0\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AgentManage.vue?vue&type=template&id=3086348d&scoped=true&\"\nimport script from \"./AgentManage.vue?vue&type=script&lang=ts&\"\nexport * from \"./AgentManage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AgentManage.vue?vue&type=style&index=0&id=3086348d&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3086348d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=style&index=0&id=3086348d&scoped=true&lang=scss&\""],"sourceRoot":""}