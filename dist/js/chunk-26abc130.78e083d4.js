(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26abc130"],{"0482":function(e,t,a){},"5a53":function(e,t,a){"use strict";a("ed9c")},6362:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"container scroll-class",style:{display:e.projectId&&"flex"}},[a("div",{class:e.projectId?"":"fixed-warp"},[a("div",{staticClass:"slider-warp",style:{marginTop:e.projectId&&"14px"}},[a("div",{staticClass:"title flex-column-center",staticStyle:{height:"54px"}},[a("div",{staticClass:"flex-row-space-between"},[a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.$t("views.vulnList.filter")))]),a("el-button",{staticClass:"resetAllBtn",attrs:{type:"text"},on:{click:e.reset}},[a("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.$t("views.vulnList.resetAll")))])])],1)]),e.projectId?e._e():[a("div",{staticClass:"module-title flex-row-space-between",staticStyle:{"margin-top":"14px","margin-bottom":"0px"}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("views.scaList.project_name")))]),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.projectNameChange("")}}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("views.vulnList.reset")))])])]),a("div",{staticClass:"search-box"},[a("el-autocomplete",{staticClass:"commonInput",staticStyle:{margin:"12px 0 0 0"},attrs:{size:"small",clearable:"",placeholder:e.$t("views.scaList.searchName"),"fetch-suggestions":e.querySearchAsync},on:{select:e.handleSelect},model:{value:e.kw,callback:function(t){e.kw=t},expression:"kw"}})],1),e._l(e.searchOptionsObj.projects,(function(t){return a("div",{key:t.project_id,staticClass:"flex-row-space-between module-line",class:e.searchObj.project_id===t.id?"selectedLine":"",style:0===t.count?{cursor:"not-allowed",height:"30px"}:{height:"30px"},on:{click:function(a){return e.projectNameChange(t.id,0===t.count)}}},[a("div",{staticClass:"selectOption",attrs:{title:t.project_name}},[e._v(" "+e._s(e.projectNameSplit(t.project_name,12))+e._s(t.project_name.length>12?"...":"")+" ")]),a("div",{staticClass:"num"},[e._v(" "+e._s(t.count)+" ")])])}))],a("div",{staticClass:"module-title flex-row-space-between",staticStyle:{"margin-top":"14px","margin-bottom":"0px"}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.scaList.level"))+" ")]),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.levelChange("")}}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.vulnList.reset"))+" ")])])]),e._l(e.searchOptionsObj.level,(function(t){return a("div",{key:t.level_id,staticClass:"flex-row-space-between module-line",class:e.searchObj.level===t.level_id?"selectedLine":"",style:0===t.count?{cursor:"not-allowed",height:"30px"}:{height:"30px"},on:{click:function(a){return e.levelChange(t.level_id,0===t.count)}}},[a("div",{staticClass:"selectOption"},[e._v(" "+e._s(t.level)+" ")]),a("div",{staticClass:"num"},[e._v(" "+e._s(t.count)+" ")])])})),a("div",{staticClass:"module-title flex-row-space-between",staticStyle:{"margin-top":"14px","margin-bottom":"0px"}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.scaList.language"))+" ")]),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.levelChange("")}}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.vulnList.reset"))+" ")])])]),e._l(e.searchOptionsObj.language,(function(t){return a("div",{key:t.language,staticClass:"flex-row-space-between module-line",class:e.searchObj.language===t.language?"selectedLine":"",style:0===t.count?{cursor:"not-allowed",height:"30px"}:{height:"30px"},on:{click:function(a){return e.languageChange(t.language,0===t.count)}}},[a("div",{staticClass:"selectOption"},[e._v(" "+e._s(t.language)+" ")]),a("div",{staticClass:"num"},[e._v(" "+e._s(t.count)+" ")])])}))],2)]),a("div",{staticClass:"main-warp",style:{marginLeft:e.projectId&&"28px",width:e.projectId&&"910px"}},[a("div",{staticClass:"sca-list"},[a("div",{staticClass:"selectForm"},[a("el-select",{staticClass:"commonSelect",staticStyle:{idth:"160px","font-size":"14px"},attrs:{placeholder:e.$t("views.scaList.developLanguage"),clearable:""},on:{change:e.newSelectData},model:{value:e.searchObj.language,callback:function(t){e.$set(e.searchObj,"language",t)},expression:"searchObj.language"}},[a("el-option",{attrs:{label:"JAVA",value:"JAVA"}}),a("el-option",{attrs:{label:"PYTHON",value:"PYTHON"}})],1),a("div",{staticClass:"selectInput"},[a("el-input",{staticClass:"commonInput",staticStyle:{width:"412px"},attrs:{placeholder:e.$t("views.scaList.searchExample")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newSelectData(t)}},model:{value:e.searchObj.keyword,callback:function(t){e.$set(e.searchObj,"keyword",t)},expression:"searchObj.keyword"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:e.newSelectData},slot:"suffix"})])],1)],1),a("el-table",{staticClass:"sca-list-table",staticStyle:{width:"100%","margin-top":"18px",cursor:"pointer"},attrs:{border:"",data:e.tableData},on:{"row-click":e.goDetail,"sort-change":e.tableSort}},[a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.name"),prop:"package_name",sortable:"custom",fixed:"left","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.package_name)+" ")]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.version"),prop:"version",width:"110px",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.version)+" ")]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.path"),prop:"package_path",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.package_path)+" ")]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.application"),prop:"project_name",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",[e._v(" "+e._s(s.project_name)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.language"),prop:"language",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",[e._v(" "+e._s(s.language)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.level"),prop:"level",width:"110px",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{style:1===s.level_type?{color:"#EA7171"}:2===s.level_type?{color:"#F39D0A"}:3===s.level_type?{color:"#2E8FE9"}:4===s.level_type?{color:"#7BC1AB"}:""},[e._v(" "+e._s(s.level)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.count"),prop:"vul_count",width:"110px",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",[e._v(" "+e._s(s.vul_count)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.time"),prop:"dt",width:"160px",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",[e._v(" "+e._s(e.formatTimestamp(s.dt))+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.license"),prop:"license",width:"160px"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"page-sizes":[10,20,40,50],"page-size":e.pageSize,"current-page":e.page,layout:" prev, pager, next, jumper,sizes,total",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},l=[],n=(a("99af"),a("d81d"),a("b0c0"),a("96cf"),a("1da1")),i=a("d4ec"),r=a("bee2"),c=a("262e"),o=a("2caf"),u=a("9ab4"),p=a("60a3"),h=a("73ec"),v=a("8c73"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"back-top",on:{click:e.scrollToTop}},[e._v("UP")])},b=[],g=function(e){Object(c["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a,[{key:"scrollToTop",value:function(){window.scrollTo({left:0,top:0,behavior:"smooth"})}}]),a}(p["d"]);g=Object(u["b"])([Object(p["a"])({name:"scrollToTop"})],g);var f=g,m=f,w=(a("5a53"),a("2877")),_=Object(w["a"])(m,d,b,!1,null,"f908e280",null),j=_.exports,y=function(e){Object(c["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.page=1,e.pageSize=10,e.total=0,e.dataEnd=!1,e.tableData=[],e.searchOptionsObj={language:[],level:[],projects:[],orderOptions:[{label:e.$t("views.scaList.orderOptions.level"),value:"level"},{label:e.$t("views.scaList.orderOptions.package_name"),value:"package_name"},{label:e.$t("views.scaList.orderOptions.version"),value:"version"},{label:e.$t("views.scaList.orderOptions.language"),value:"language"},{label:e.$t("views.scaList.orderOptions.vul_count"),value:"vul_count"}]},e.searchObj={language:"",level:"",project_name:"",keyword:"",order:"",project_id:""},e.kw="",e}return Object(r["a"])(a,[{key:"created",value:function(){this.projectId&&(this.searchObj.project_id=this.projectId)}},{key:"tableSort",value:function(e){"ascending"==e.order?this.searchObj.order=e.prop:this.searchObj.order="-"+e.prop,this.newSelectData()}},{key:"reset",value:function(){this.searchObj.language="",this.searchObj.level="",this.searchObj.project_name="","projectDetail/:pid"!==this.$route.name&&(this.searchObj.project_id=""),this.kw="",this.newSelectData()}},{key:"querySearchAsync",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.services.setting.searchProject({name:t});case 3:s=e.sent,201===s.status&&(l=s.data.map((function(e){return{value:e.name,id:e.id}})),a(l));case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleSelect",value:function(e){this.projectNameChange(e.id,!1)}},{key:"languageChange",value:function(e,t){t||(this.searchObj.language=e,this.newSelectData())}},{key:"levelChange",value:function(e,t){t||(this.searchObj.level=e,this.newSelectData())}},{key:"projectNameChange",value:function(e,t){t||(this.searchObj.project_id=e,this.newSelectData())}},{key:"newSelectData",value:function(){this.page=1,this.tableData=[],this.scaSummary(),this.getTableData()}},{key:"mounted",value:function(){this.getTableData(),this.scaSummary()}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableData()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.getTableData()}},{key:"formatTimestamp",value:function(e){return Object(h["a"])(e)}},{key:"getTableData",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,s,l,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={page:this.page,pageSize:this.pageSize,language:this.searchObj.language,level:this.searchObj.level,project_name:this.searchObj.project_name,keyword:this.searchObj.keyword,order:this.searchObj.order,project_id:this.searchObj.project_id,version_id:this.version},this.loadingStart(),e.next=4,this.services.sca.scaList(a);case 4:if(s=e.sent,l=s.status,n=s.data,i=s.msg,r=s.page,this.loadingDone(),201===l){e.next=13;break}return this.$message({type:"error",message:i,showClose:!0}),e.abrupt("return");case 13:this.total=r.alltotal,this.tableData=n;case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"scaSummary",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,l,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={language:this.searchObj.language,level:this.searchObj.level,project_name:this.searchObj.project_name,keyword:this.searchObj.keyword,order:this.searchObj.order,project_id:this.searchObj.project_id,version_id:this.version},this.loadingStart(),e.next=4,this.services.sca.scaSummary(t);case 4:if(a=e.sent,s=a.status,l=a.data,n=a.msg,this.loadingDone(),201===s){e.next=12;break}return this.$message({type:"error",message:n,showClose:!0}),e.abrupt("return");case 12:this.searchOptionsObj.language=l.language,this.searchOptionsObj.level=l.level,this.searchOptionsObj.projects=l.projects;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goDetail",value:function(e){this.$router.push("/sca/scaDetail/".concat(this.page,"/").concat(e.id))}},{key:"projectNameSplit",value:function(e,t){return e.length>t?e.substring(0,t):e}}]),a}(v["a"]);Object(u["b"])([Object(p["c"])()],y.prototype,"version",void 0),Object(u["b"])([Object(p["c"])(String)],y.prototype,"projectId",void 0),y=Object(u["b"])([Object(p["a"])({name:"ScaList",components:{ScrollToTop:j}})],y);var O=y,k=O,x=(a("eae7"),Object(w["a"])(k,s,l,!1,null,"1ad2c2b2",null));t["default"]=x.exports},eae7:function(e,t,a){"use strict";a("0482")},ed9c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-26abc130.78e083d4.js.map