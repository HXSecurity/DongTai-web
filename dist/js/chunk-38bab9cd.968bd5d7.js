(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38bab9cd"],{"7a5b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sca-manage"},[a("div",{staticClass:"top"},[a("div",{staticClass:"total"},[a("div",[e._v(" "+e._s(e.$t("views.scaManage.component"))+"："),a("span",[e._v(e._s(e.sca_count)+" "+e._s(e.$t("views.scaManage.race")))])]),a("div",[e._v(" "+e._s(e.$t("views.scaManage.vuln"))+"："),a("span",[e._v(e._s(e.vuln_count)+" "+e._s(e.$t("views.scaManage.strip")))])])]),e._m(0)]),a("div",{staticClass:"table-body"},[a("div",{staticClass:"tool-bar"},[a("el-input",{staticClass:"search-input",staticStyle:{width:"260px"},attrs:{size:"small",placeholder:e.$t("views.scaManage.searchDesc")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCurrentChange(1)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.handleCurrentChange(1)}},slot:"append"})],1),a("div",[a("el-button",{staticClass:"resetAllBtn",attrs:{size:"small"},on:{click:e.openAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "+e._s(e.$t("views.scaManage.addSca"))+" ")])],1)],1),a("div",{staticClass:"table-bar"},[a("span",{staticStyle:{color:"#38435a"}},[e._v(" "+e._s(e.$t("views.scaManage.selected"))+" "),a("span",{staticStyle:{color:"#4a72ae"}},[e._v(e._s(e.multipleSelection.length)+" ")]),e._v(e._s(e.$t("views.scaManage.strip"))+" ")]),a("div",[a("el-button",{staticClass:"resetAllBtn delete",attrs:{size:"small"},on:{click:e.multipleDelete}},[e._v(e._s(e.$t("views.scaManage.del")))])],1)]),a("el-table",{staticClass:"hookTable",attrs:{data:e.tableData,border:"","header-row-style":{color:"#000",fontWeight:600}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:!!e.tableData.length&&"left"}}),a("template",{slot:"empty"},[a("div",{staticClass:"empty-box"},[a("span",[e._v(e._s(e.$t("views.scaManage.empty")))])])]),a("el-table-column",{attrs:{label:"GroupID",prop:"group_id",width:"160px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"AtrifactID",prop:"atrifact_id",width:"160px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"Version",prop:"version","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"Sha1",prop:"sha_1",width:"300px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"PackageName",prop:"package_name",width:"120px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"License",prop:"license","show-overflow-tooltip":"",width:"100px"}}),a("el-table-column",{attrs:{prop:"address",label:e.$t("views.scaManage.address"),align:"center",width:"100",fixed:!!e.tableData.length&&"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-btn-box"},[a("el-button",{staticStyle:{color:"#4a72ae"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.editRow(t.row)}}},[e._v(" "+e._s(e.$t("views.scaManage.edit"))+" ")]),a("span",{staticClass:"l"},[e._v(" | ")]),a("el-popconfirm",{attrs:{title:e.$t("views.scaManage.delpop")},on:{confirm:function(a){return e.deleteRow(t.row)}}},[a("el-button",{staticStyle:{"margin-left":"-2px",color:"#f56262"},attrs:{slot:"reference",size:"small",type:"text"},slot:"reference"},[e._v(e._s(e.$t("views.scaManage.del")))])],1)],1)]}}])})],2),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,background:"",layout:" prev, pager, next, jumper,total, sizes",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("div",{staticClass:"sca-dialog"},[a("el-dialog",{attrs:{visible:e.scaDialog},on:{"update:visible":function(t){e.scaDialog=t}}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("views.scaManage.addSca"),name:"add"}},[a("el-form",{attrs:{model:e.form,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"GroupID",prop:"group_id"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.GroupID")},model:{value:e.form.group_id,callback:function(t){e.$set(e.form,"group_id",t)},expression:"form.group_id"}})],1),a("el-form-item",{attrs:{label:"AtrifactID",prop:"atrifact_id"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.AtrifactID")},model:{value:e.form.atrifact_id,callback:function(t){e.$set(e.form,"atrifact_id",t)},expression:"form.atrifact_id"}})],1),a("el-form-item",{attrs:{label:"Version",prop:"version"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.Version")},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),a("el-form-item",{attrs:{label:"Sha1",prop:"sha_1"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.Sha1")},model:{value:e.form.sha_1,callback:function(t){e.$set(e.form,"sha_1",t)},expression:"form.sha_1"}})],1),a("el-form-item",{attrs:{label:"PackageName",prop:"package_name"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.PackageName")},model:{value:e.form.package_name,callback:function(t){e.$set(e.form,"package_name",t)},expression:"form.package_name"}})],1),a("el-form-item",{attrs:{label:"License",prop:"license"}},[a("el-select",{attrs:{placeholder:e.$t("views.scaManage.License")},model:{value:e.form.license,callback:function(t){e.$set(e.form,"license",t)},expression:"form.license"}},e._l(e.license_list,(function(t){return a("el-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)],1),a("el-tab-pane",{attrs:{label:e.$t("views.scaManage.upload"),name:"upload"}},[a("div",{staticStyle:{display:"flex"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.download}},[e._v(e._s(e.$t("views.scaManage.download")))]),a("el-upload",{staticStyle:{"margin-left":"12px"},attrs:{action:e.path+"/scadb/maven/bulk",headers:{"csrf-token":e.token},"show-file-list":!1,"on-success":e.handleSuccess,multiple:!1,"before-upload":e.beforeUpload,name:"file"}},[a("el-button",{attrs:{size:"mini"}},[e._v(e._s(e.$t("views.scaManage.uploadBtn")))])],1)],1)])],1),a("template",{slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.clearForm}},[e._v(e._s(e.$t("views.scaManage.clear")))]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.enterAdd}},[e._v(e._s(e.$t("views.scaManage.enter")))])],1)],2)],1),a("el-dialog",{attrs:{visible:e.scaEditDialog},on:{"update:visible":function(t){e.scaEditDialog=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"GroupID"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.GroupID")},model:{value:e.form.group_id,callback:function(t){e.$set(e.form,"group_id",t)},expression:"form.group_id"}})],1),a("el-form-item",{attrs:{label:"AtrifactID"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.AtrifactID")},model:{value:e.form.atrifact_id,callback:function(t){e.$set(e.form,"atrifact_id",t)},expression:"form.atrifact_id"}})],1),a("el-form-item",{attrs:{label:"Version"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.Version")},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),a("el-form-item",{attrs:{label:"Sha1"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.Sha1")},model:{value:e.form.sha_1,callback:function(t){e.$set(e.form,"sha_1",t)},expression:"form.sha_1"}})],1),a("el-form-item",{attrs:{label:"PackageName"}},[a("el-input",{attrs:{placeholder:e.$t("views.scaManage.PackageName")},model:{value:e.form.package_name,callback:function(t){e.$set(e.form,"package_name",t)},expression:"form.package_name"}})],1),a("el-form-item",{attrs:{label:"License"}},[a("el-select",{attrs:{placeholder:e.$t("views.scaManage.License")},model:{value:e.form.license,callback:function(t){e.$set(e.form,"license",t)},expression:"form.license"}},e._l(e.license_list,(function(t){return a("el-option",{key:t},[e._v(e._s(t))])})),1)],1)],1),a("template",{slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.clearForm}},[e._v(e._s(e.$t("views.scaManage.clear")))]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.enterEdit}},[e._v(e._s(e.$t("views.scaManage.enter")))])],1)],2)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"language"},[a("div",{staticClass:"active"},[e._v("JAVA")])])}],r=(a("99af"),a("d81d"),a("b0c0"),a("96cf"),a("1da1")),i=a("d4ec"),l=a("bee2"),c=a("262e"),o=a("2caf"),u=a("9ab4"),p=a("60a3"),m=a("8c73"),d=a("73ec"),g=function(e){Object(c["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.path="/api/v1",e.token=Object(d["c"])(),e.tableData=[],e.pageSize=20,e.currentPage=1,e.total=0,e.keyword="",e.form={id:0,group_id:"",atrifact_id:"",version:"",sha_1:"",package_name:"",license:""},e.sca_count=0,e.vuln_count=0,e.scaEditDialog=!1,e.multipleSelection=[],e.scaDialog=!1,e.name="",e.activeName="add",e.license_list=[],e}return Object(l["a"])(a,[{key:"beforeUpload",value:function(e){var t="text/csv"===e.type;return t||(this.$message.error(this.$t("views.changeLogo.warningPng")),!1)}},{key:"handleSuccess",value:function(e){201===e.status?(this.$message.success(e.msg),this.clearForm(),this.getTableData()):this.$message.error(e.msg)}},{key:"sca_stat",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.setting.sca_stat();case 2:t=e.sent,201===t.status?(this.sca_count=t.data.sca_count,this.vuln_count=t.data.vuln_count):this.$message.error(t.msg);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"multipleDelete",value:function(){var e=this;0!==this.multipleSelection.length?this.$confirm("".concat(this.$t("views.scaManage.changeOne")).concat(this.$t("views.scaManage.changeTwo")),this.$t("views.scaManage.pop"),{confirmButtonText:this.$t("views.scaManage.enter"),cancelButtonText:this.$t("views.scaManage.clear"),type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.multipleSelection.map((function(e){return e.id})),t.next=3,e.services.setting.delete_sca_bulk({ids:a});case 3:if(s=t.sent,201===s.status){t.next=7;break}return e.$message({type:"error",message:s.msg,showClose:!0}),t.abrupt("return");case 7:return e.$message({type:"success",message:s.msg,showClose:!0}),t.next=10,e.getTableData();case 10:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})):this.$message.error(this.$t("views.scaManage.selectWarning"))}},{key:"openAdd",value:function(){this.form={id:0,group_id:"",atrifact_id:"",version:"",sha_1:"",package_name:"",license:""},this.scaDialog=!0}},{key:"enterAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("add"===this.activeName){e.next=3;break}return this.clearForm(),e.abrupt("return");case 3:return e.next=5,this.services.setting.add_sca(this.form);case 5:if(t=e.sent,201!==t.status){e.next=11;break}return this.$message.success(t.msg),this.clearForm(),this.getTableData(),e.abrupt("return");case 11:this.$message.error(t.msg);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"editRow",value:function(e){this.form=JSON.parse(JSON.stringify(e)),this.scaEditDialog=!0}},{key:"deleteRow",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.setting.delete_sca(t);case 2:if(a=e.sent,201!==a.status){e.next=7;break}return this.$message.success(a.msg),this.getTableData(),e.abrupt("return");case 7:this.$message.error(a.msg);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearForm",value:function(){this.scaEditDialog=!1,this.scaDialog=!1,this.form={id:0,group_id:"",atrifact_id:"",version:"",sha_1:"",package_name:"",license:""}}},{key:"enterEdit",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.setting.edit_sca(this.form);case 2:if(t=e.sent,201!==t.status){e.next=8;break}return this.clearForm(),this.$message.success(t.msg),this.getTableData(),e.abrupt("return");case 8:this.$message.error(t.msg);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableData()}},{key:"handleCurrentChange",value:function(e){this.currentPage=e,this.getTableData()}},{key:"handleSelectionChange",value:function(e){this.multipleSelection=e}},{key:"get_license_list",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.setting.get_license_list();case 2:if(t=e.sent,201!==t.status){e.next=6;break}return this.license_list=t.data,e.abrupt("return");case 6:this.$message.error(t.msg);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"download",value:function(){window.open("".concat("/api/v1","/scadb/maven/template/maven_sca"))}},{key:"created",value:function(){this.sca_stat(),this.get_license_list(),this.getTableData()}},{key:"getTableData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.services.setting.get_sca_strategy({page:this.currentPage,page_size:this.pageSize,name:this.keyword});case 3:if(t=e.sent,this.loadingDone(),201!==t.status){e.next=9;break}return this.tableData=t.data,this.total=t.page.alltotal,e.abrupt("return");case 9:this.$message.error(t.msg);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(m["a"]);g=Object(u["b"])([Object(p["a"])({name:"ScaManage"})],g);var f=g,v=f,h=(a("e02a"),a("2877")),b=Object(h["a"])(v,s,n,!1,null,"f082bc26",null);t["default"]=b.exports},"8b8c":function(e,t,a){},e02a:function(e,t,a){"use strict";a("8b8c")}}]);
//# sourceMappingURL=chunk-38bab9cd.968bd5d7.js.map