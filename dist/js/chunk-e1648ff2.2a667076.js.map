{"version":3,"sources":["webpack:///./src/views/setting/AgentManage.vue?6e47","webpack:///./src/views/setting/AgentManage.vue?d7c8","webpack:///./src/views/setting/AgentManage.vue?0bcf","webpack:///./src/views/setting/AgentManage.vue","webpack:///./src/views/setting/AgentManage.vue?1801"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","_l","item","key","value","class","state","on","$event","changeState","label","staticStyle","attrs","searchTable","model","callback","$$v","searchValue","expression","multipleSelection","length","agentStart","agentStop","deleteAgents","tableData","handleSelectionChange","scopedSlots","_u","fn","ref","row","project_name","server","system_load","flow","is_core_running","running_status","scope","_f","latest_time","language","is_control","id","doDelete","token","total","page","pageSize","currentChange","deleteDialogOpen","slot","agentDelete","staticRenderFns","currentPageSize","currentPageDelete","deleteSelectId","stateOptions","getTableData","timer","setInterval","reflashTable","timeOuter","clearTimeout","setTimeout","val","clearInterval","parseInt","params","loadingStart","services","setting","agentList","status","msg","data","loadingDone","$message","type","message","showClose","dataMap","forEach","console","log","alltotal","agentInstall","$confirm","confirmButtonText","cancelButtonText","then","ids","String","map","agentUninstall","VueBase","name","filters","formatTimestamp","date","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,4BAA4B,OAAOT,EAAIU,GAAIV,EAAgB,cAAE,SAASW,GAAM,OAAOP,EAAG,MAAM,CAACQ,IAAID,EAAKE,MAAMP,YAAY,cAAcQ,MAAMH,EAAKE,QAAUb,EAAIe,OAAS,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,YAAYP,MAAS,CAACX,EAAIO,GAAG,IAAIP,EAAIQ,GAAGG,EAAKQ,OAAO,WAAU,GAAGf,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,WAAW,CAACgB,YAAY,CAAC,cAAc,QAAQC,MAAM,CAAC,KAAO,QAAQ,YAAcrB,EAAIS,GAAG,kCAAkCO,GAAG,CAAC,MAAQhB,EAAIsB,aAAaC,MAAM,CAACV,MAAOb,EAAe,YAAEwB,SAAS,SAAUC,GAAMzB,EAAI0B,YAAYD,GAAKE,WAAW,kBAAkB,KAAKvB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACgB,YAAY,CAAC,MAAQ,oBAAoB,CAACpB,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,6BAA6B,KAAKL,EAAG,OAAO,CAACgB,YAAY,CAAC,MAAQ,sBAAsB,CAACpB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI4B,kBAAkBC,WAAW7B,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,4BAA4B,OAAOL,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,YAAY,cAAce,MAAM,CAAC,KAAO,SAASL,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI8B,WAAW,MAAM,CAAC9B,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,4BAA4BL,EAAG,YAAY,CAACE,YAAY,cAAce,MAAM,CAAC,KAAO,SAASL,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI+B,UAAU,MAAM,CAAC/B,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,6BAA6BL,EAAG,YAAY,CAACE,YAAY,cAAce,MAAM,CAAC,KAAO,SAASL,GAAG,CAAC,MAAQhB,EAAIgC,eAAe,CAAChC,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,8BAA8B,KAAKL,EAAG,WAAW,CAACE,YAAY,mBAAmBe,MAAM,CAAC,KAAOrB,EAAIiC,UAAU,eAAe,UAAUjB,GAAG,CAAC,mBAAmBhB,EAAIkC,wBAAwB,CAAC9B,EAAG,kBAAkB,CAACiB,MAAM,CAAC,KAAO,YAAY,MAAQ,QAAQjB,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,iCAAiC,KAAO,eAAe,MAAQ,SAAS0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GACzgE,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAG+B,EAAIC,cAAc,cAAcpC,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,6BAA6B,KAAO,SAAS,MAAQ,SAAS0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GACjP,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAG+B,EAAIE,QAAQ,cAAcrC,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQ,MAAM,MAAQrB,EAAIS,GAAG,6BAA6B,KAAO,eAAe0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GAC9O,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAG+B,EAAIG,aAAa,cAActC,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,0BAA0B,KAAO,kBAAkB,MAAQ,SAAS0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GACtP,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,IAAI+B,EAAII,MAAQ,GAAK3C,EAAIS,GAAG,2BAA2B,cAAcL,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,4BAA4B,KAAO,kBAAkB,MAAQ,SAAS0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GACvQ,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAA0B,GAAvB+B,EAAIK,gBAAuB5C,EAAIS,GAAG,qCAAuCT,EAAIS,GAAG,0CAA0C,cAAcL,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,6BAA6B,KAAO,iBAAiB,MAAQ,QAAQ0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GAC5U,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAyB,OAAtB+B,EAAIM,eAA0B7C,EAAIS,GAAG,6BAA+BT,EAAIS,GAAG,6BAA6B,cAAcL,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQ,QAAQ,MAAQrB,EAAIS,GAAG,gCAAgC0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASS,GAAO,MAAO,CAAC9C,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI+C,GAAG,kBAAP/C,CAA0B8C,EAAMP,IAAIS,cAAc,YAAY5C,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,2BAA2B,KAAO,QAAQ,MAAQ,WAAWL,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,8BAA8B,KAAO,WAAW,MAAQ,SAAS0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GACzoB,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAG+B,EAAIU,UAAU,cAAc7C,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQrB,EAAIS,GAAG,4BAA4B,MAAQ,QAAQ,MAAQ,SAAS0B,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GAC5O,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,YAAY,CAAqB,IAAnBiC,EAAIW,WAAkB,CAAC9C,EAAG,IAAI,CAACE,YAAY,0BAA0B,CAAyB,GAAvBiC,EAAIK,gBAAsBxC,EAAG,IAAI,CAACE,YAAY,0BAA0BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI8B,WAAWS,EAAIY,QAAQ/C,EAAG,IAAI,CAACE,YAAY,2BAA2BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI+B,UAAUQ,EAAIY,SAAS/C,EAAG,IAAI,CAACE,YAAY,sBAAsBU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIoD,SAASb,EAAIY,SAAS,UAAU/C,EAAG,kBAAkB,CAACiB,MAAM,CAAC,MAAQ,QAAQ,MAAQ,MAAM,KAAO,SAASc,YAAYnC,EAAIoC,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GACplB,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,MAAMc,YAAY,CAAC,MAAQ,UAAU,CAACpB,EAAIO,GAAG,IAAIP,EAAIQ,GAAG+B,EAAIc,OAAO,eAAe,GAAGjD,EAAG,gBAAgB,CAACgB,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,MAAQrB,EAAIsD,MAAM,eAAetD,EAAIuD,KAAK,YAAYvD,EAAIwD,SAAS,OAAS,oCAAoCxC,GAAG,CAAC,iBAAiBhB,EAAIyD,iBAAiBrD,EAAG,YAAY,CAACiB,MAAM,CAAC,QAAUrB,EAAI0D,iBAAiB,MAAQ1D,EAAIS,GAAG,8BAA8B,MAAQ,OAAOO,GAAG,CAAC,iBAAiB,SAASC,GAAQjB,EAAI0D,iBAAiBzC,KAAU,CAACb,EAAG,MAAM,CAACgB,YAAY,CAAC,aAAa,WAAW,CAAChB,EAAG,IAAI,CAACgB,YAAY,CAAC,MAAQ,YAAY,CAACpB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,sCAAsCL,EAAG,IAAI,CAACgB,YAAY,CAAC,MAAQ,UAAU,aAAa,SAAS,CAACpB,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,kCAAkC,SAASL,EAAG,MAAM,CAACgB,YAAY,CAAC,aAAa,UAAUC,MAAM,CAAC,KAAO,UAAUsC,KAAK,UAAU,CAACvD,EAAG,YAAY,CAACE,YAAY,aAAaU,GAAG,CAAC,MAAQhB,EAAI4D,cAAc,CAAC5D,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,+BAA+B,OAAOL,EAAG,YAAY,CAACE,YAAY,YAAYU,GAAG,CAAC,MAAQ,SAASC,GAAQjB,EAAI0D,kBAAmB,KAAS,CAAC1D,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,4BAA4B,QAAQ,MAAM,IACvpCoD,EAAkB,G,sJCiND,EAArB,yG,0BACU,EAAA5B,UAAiC,GACjC,EAAAqB,MAAQ,EACR,EAAAC,KAAO,EACP,EAAAxC,MAAQ,EACR,EAAAyC,SAAW,GACX,EAAAM,gBAAkB,EAClB,EAAAC,kBAAoB,EACpB,EAAAL,kBAAmB,EACnB,EAAAM,eAAiB,EACjB,EAAAC,aAAe,CACrB,CAAEpD,MAAO,EAAGM,MAAO,EAAKV,GAAG,8BAC3B,CAAEI,MAAO,EAAGM,MAAO,EAAKV,GAAG,mCAErB,EAAAiB,YAAc,GACd,EAAAE,kBAAoB,GAf9B,2DAgBS,WACL3B,KAAKiE,eACLjE,KAAKkE,MAAQC,aAAY,WACvB,EAAKC,iBACJ,OApBP,oCAwBqB,WACbpE,KAAKqE,WACPC,aAAatE,KAAKqE,WAClBrE,KAAKqE,UAAY,MAEjBE,YAAW,WACT,EAAKN,iBACJ,OA/BT,4CAkCgCO,GAC5BxE,KAAK2B,kBAAoB6C,IAnC7B,sCAsCIC,cAAczE,KAAKkE,SAtCvB,kCAwCsBxD,GAAS,WAC3BV,KAAKc,MAAQJ,EAAKE,MAClBZ,KAAKsD,KAAO,EACZtD,KAAKiE,eACa,GAAdjE,KAAKc,MACPd,KAAKkE,MAAQC,aAAY,WACvB,EAAKF,iBACJ,MAEHQ,cAAczE,KAAKkE,OACnBlE,KAAKkE,MAAQ,QAlDnB,oCAqDwBM,GACpBxE,KAAKsD,KAAOoB,SAAS,GAAD,OAAIF,IACxBxE,KAAKiE,iBAvDT,wMA2DUU,EAAS,CACbrB,KAAMtD,KAAKsD,KACXC,SAAUvD,KAAKuD,SACfzC,MAAOd,KAAKc,OAEdd,KAAK4E,eAhET,SAiEwC5E,KAAK6E,SAASC,QAAQC,UAAUJ,GAjExE,mBAiEYK,EAjEZ,EAiEYA,OAAQC,EAjEpB,EAiEoBA,IAAKC,EAjEzB,EAiEyBA,KACrBlF,KAAKmF,cACU,MAAXH,EAnER,wBAoEMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IAvEnB,2BA2EUC,EAAU,GAChBN,GACEA,EAAKO,SAAQ,SAAC/E,GACZ,OAAQ8E,EAAQ9E,EAAKwC,IAAMxC,KAE/BgF,QAAQC,IAAI3F,KAAKgC,UAAWwD,GAC5BxF,KAAKgC,UAAUyD,SAAQ,SAAC/E,GACtB,IAAK,IAAMC,KAAOD,EAChBA,EAAKC,GAAO6E,EAAQ9E,EAAKwC,IAAIvC,MAnFrC,kTAyFUgE,EAAS,CACbrB,KAAMtD,KAAKsD,KACXC,SAAUvD,KAAKuD,SACfzC,MAAOd,KAAKc,MACZsC,MAAOpD,KAAKyB,aAEdzB,KAAK4E,eA/FT,SAgG8C5E,KAAK6E,SAASC,QAAQC,UAC9DJ,GAjGN,mBAgGYK,EAhGZ,EAgGYA,OAAQC,EAhGpB,EAgGoBA,IAAKC,EAhGzB,EAgGyBA,KAAM5B,EAhG/B,EAgG+BA,KAG3BtD,KAAKmF,cACU,MAAXH,EApGR,wBAqGMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IAxGnB,2BA4GIvF,KAAKgC,UAAYkD,EACjBlF,KAAK6D,gBAAkBqB,EAAKtD,OAC5B5B,KAAKqD,MAAQC,EAAKsC,SAClB5F,KAAK8D,kBAAoB,EACzB4B,QAAQC,IAAI3F,KAAK6D,iBAhHrB,wMAmH6BX,GAnH7B,kGAoHIlD,KAAK4E,eApHT,SAqHkC5E,KAAK6E,SAASC,QAAQe,aAAa,CAC/D3C,GAAIwB,SAAS,GAAD,OAAIxB,MAtHtB,mBAqHY8B,EArHZ,EAqHYA,OAAQC,EArHpB,EAqHoBA,IAGhBjF,KAAKmF,cACU,MAAXH,EAzHR,wBA0HMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IA7HnB,4CAiIUvF,KAAKiE,eAjIf,uSAqIIjE,KAAK8F,SACH9F,KAAKQ,GAAG,kCACRR,KAAKQ,GAAG,iCACR,CACEuF,kBAAmB/F,KAAKQ,GACtB,uCAEFwF,iBAAkBhG,KAAKQ,GACrB,sCAEF6E,KAAM,YAERY,KAZF,wCAYO,iHACL,EAAKrB,eACCD,EAAS,CACbuB,IAAKC,OACH,EAAKxE,kBAAkByE,KAAI,SAAC1F,GAAD,OAAegE,SAAShE,EAAKwC,SAJvD,SAOyB,EAAK2B,SAASC,QAAQ/C,aAAa4C,GAP5D,mBAOGK,EAPH,EAOGA,OAAQC,EAPX,EAOWA,IAChB,EAAKE,cACU,MAAXH,EATC,wBAUH,EAAKI,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IAbV,kCAiBL,EAAKH,SAAS,CACZC,KAAM,UACNC,QAASL,EACTM,WAAW,IApBR,UAsBC,EAAKtB,eAtBN,6CAjJX,qMA2K2Bf,GA3K3B,oGA4KIlD,KAAK4E,eACDD,EAAS,GAEXA,EADEzB,EACO,CAAEA,GAAIwB,SAASxB,IAEf,CACPgD,IAAKC,OACHnG,KAAK2B,kBAAkByE,KAAI,SAAC1F,GAAD,OAAegE,SAAShE,EAAKwC,SAnLlE,SAuLkClD,KAAK6E,SAASC,QAAQjD,WAAW8C,GAvLnE,mBAuLYK,EAvLZ,EAuLYA,OAAQC,EAvLpB,EAuLoBA,IAChBjF,KAAKmF,cACU,MAAXH,EAzLR,wBA0LMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IA7LnB,kCAiMIvF,KAAKoF,SAAS,CACZC,KAAM,UACNC,QAASL,EACTM,WAAW,IApMjB,UAsMUvF,KAAKiE,eAtMf,sMAyM0Bf,GAzM1B,oGA0MIlD,KAAK4E,eAGHD,EADEzB,EACO,CAAEA,GAAIwB,SAASxB,IAEf,CACPgD,IAAKC,OACHnG,KAAK2B,kBAAkByE,KAAI,SAAC1F,GAAD,OAAegE,SAAShE,EAAKwC,SAjNlE,SAqNkClD,KAAK6E,SAASC,QAAQhD,UAAU6C,GArNlE,mBAqNYK,EArNZ,EAqNYA,OAAQC,EArNpB,EAqNoBA,IAChBjF,KAAKmF,cACU,MAAXH,EAvNR,wBAwNMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IA3NnB,kCA+NIvF,KAAKoF,SAAS,CACZC,KAAM,UACNC,QAASL,EACTM,WAAW,IAlOjB,UAoOUvF,KAAKiE,eApOf,2MAuO+Bf,GAvO/B,kGAwOIlD,KAAK4E,eAxOT,SAyOkC5E,KAAK6E,SAASC,QAAQuB,eAAe,CACjEnD,GAAIwB,SAAS,GAAD,OAAIxB,MA1OtB,mBAyOY8B,EAzOZ,EAyOYA,OAAQC,EAzOpB,EAyOoBA,IAGhBjF,KAAKmF,cACU,MAAXH,EA7OR,wBA8OMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IAjPnB,4CAqPUvF,KAAKiE,eArPf,qMAwPyBf,GAxPzB,iFAyPIlD,KAAKyD,kBAAmB,EACxBzD,KAAK+D,eAAiBW,SAAS,GAAD,OAAIxB,IA1PtC,2SA8PIlD,KAAKyD,kBAAmB,EACxBzD,KAAK4E,eA/PT,SAgQkC5E,KAAK6E,SAASC,QAAQnB,YAAY,CAC9DT,GAAIlD,KAAK+D,iBAjQf,mBAgQYiB,EAhQZ,EAgQYA,OAAQC,EAhQpB,EAgQoBA,IAGhBjF,KAAKmF,cACU,MAAXH,EApQR,wBAqQMhF,KAAKoF,SAAS,CACZC,KAAM,QACNC,QAASL,EACTM,WAAW,IAxQnB,kCA4QIvF,KAAK8D,kBAAoB9D,KAAK8D,kBAAoB,EAC9C9D,KAAK8D,oBAAsB9D,KAAK6D,kBAClC7D,KAAKsD,KAAOtD,KAAKsD,KAAO,GA9Q9B,UAgRUtD,KAAKiE,eAhRf,QAiRIjE,KAAK+D,eAAiB,EAjR1B,+GAAyCuC,EAAA,MAApB,EAAW,gBAR/B,eAAU,CACTC,KAAM,cACNC,QAAS,CACPC,gBADO,SACSC,GACd,OAAO,eAAgBA,QAIR,WCpOmY,I,wBCQpZC,EAAY,eACd,EACA7G,EACA8D,GACA,EACA,KACA,WACA,MAIa,aAAA+C,E,kECnBf","file":"js/chunk-e1648ff2.2a667076.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-warp\"},[_c('div',{staticClass:\"tool-bar\"},[_c('div',{staticClass:\"selectForm\"},[_c('div',{staticClass:\"select-item\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.state'))+\"：\")]),_vm._l((_vm.stateOptions),function(item){return _c('div',{key:item.value,staticClass:\"select-item\",class:item.value === _vm.state && 'active',on:{\"click\":function($event){return _vm.changeState(item)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])})],2),_c('div',{staticClass:\"tool-bar\"},[_c('el-input',{staticStyle:{\"margin-left\":\"12px\"},attrs:{\"size\":\"small\",\"placeholder\":_vm.$t('views.agentManage.searchValue')},on:{\"input\":_vm.searchTable},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1)]),_c('div',{staticClass:\"button-bar\"},[_c('div',{staticStyle:{\"color\":\"rgb(56, 67, 90)\"}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.choose'))+\" \"),_c('span',{staticStyle:{\"color\":\"rgb(74, 114, 174)\"}},[_vm._v(_vm._s(_vm.multipleSelection.length))]),_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.strip'))+\" \")]),_c('div',[_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.agentStart(0)}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.on')))]),_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.agentStop(0)}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.off')))]),_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.deleteAgents}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.del')))])],1)]),_c('el-table',{staticClass:\"agentManageTable\",attrs:{\"data\":_vm.tableData,\"header-align\":\"center\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.projectName'),\"prop\":\"project_name\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.project_name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.address'),\"prop\":\"server\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.server)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"150\",\"label\":_vm.$t('views.agentManage.payload'),\"prop\":\"system_load\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.system_load)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.flow'),\"prop\":\"is_core_running\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s((row.flow || 0) + _vm.$t('views.agentManage.step'))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.status'),\"prop\":\"is_core_running\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s(row.is_core_running == 1 ? _vm.$t('views.agentManage.is_core_running') : _vm.$t('views.agentManage.is_core_not_running'))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.healthy'),\"prop\":\"running_status\",\"width\":\"90px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s(row.running_status == '未运行' ? _vm.$t('views.agentManage.offline') : _vm.$t('views.agentManage.normal'))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"160px\",\"label\":_vm.$t('views.agentManage.timestapm')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatTimestamp\")(scope.row.latest_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.owner'),\"prop\":\"owner\",\"width\":\"120px\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.language'),\"prop\":\"language\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.language)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.manage'),\"width\":\"140px\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"icon-box\"},[(row.is_control === 1)?[_c('i',{staticClass:\"icon el-icon-loading\"})]:[(row.is_core_running == 0)?_c('i',{staticClass:\"icon el-icon-video-play\",on:{\"click\":function($event){return _vm.agentStart(row.id)}}}):_c('i',{staticClass:\"icon el-icon-video-pause\",on:{\"click\":function($event){return _vm.agentStop(row.id)}}})],_c('i',{staticClass:\"icon el-icon-delete\",on:{\"click\":function($event){return _vm.doDelete(row.id)}}})],2)]}}])}),_c('el-table-column',{attrs:{\"label\":\"Agent\",\"width\":\"320\",\"prop\":\"token\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\",staticStyle:{\"width\":\"320px\"}},[_vm._v(\" \"+_vm._s(row.token)+\" \")])]}}])})],1),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"total\":_vm.total,\"current-page\":_vm.page,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentChange}}),_c('el-dialog',{attrs:{\"visible\":_vm.deleteDialogOpen,\"title\":_vm.$t('views.agentManage.delAgent'),\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.deleteDialogOpen=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',{staticStyle:{\"color\":\"#959fb4\"}},[_vm._v(_vm._s(_vm.$t('views.agentManage.agentDelInfo')))]),_c('p',{staticStyle:{\"color\":\"#959fb4\",\"margin-top\":\"14px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.agentDelPop'))+\" \")])]),_c('div',{staticStyle:{\"text-align\":\"center\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"confirmDel\",on:{\"click\":_vm.agentDelete}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.enterDel'))+\" \")]),_c('el-button',{staticClass:\"cancelDel\",on:{\"click\":function($event){_vm.deleteDialogOpen = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.clear'))+\" \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport VueBase from '@/VueBase'\r\nimport { Component } from 'vue-property-decorator'\r\nimport { AgentListObj } from '@/views/setting/types'\r\nimport { formatTimestamp } from '@/utils/utils'\r\n\r\n@Component({\r\n  name: 'AgentManage',\r\n  filters: {\r\n    formatTimestamp(date: number | any) {\r\n      return formatTimestamp(date)\r\n    },\r\n  },\r\n})\r\nexport default class AgentManage extends VueBase {\r\n  private tableData: Array<AgentListObj> = []\r\n  private total = 0\r\n  private page = 1\r\n  private state = 1\r\n  private pageSize = 10\r\n  private currentPageSize = 0\r\n  private currentPageDelete = 0\r\n  private deleteDialogOpen = false\r\n  private deleteSelectId = 0\r\n  private stateOptions = [\r\n    { value: 1, label: this.$t('views.agentManage.running') },\r\n    { value: 0, label: this.$t('views.agentManage.not_running') },\r\n  ]\r\n  private searchValue = ''\r\n  private multipleSelection = []\r\n  created() {\r\n    this.getTableData()\r\n    this.timer = setInterval(() => {\r\n      this.reflashTable()\r\n    }, 5000)\r\n  }\r\n  private timer: any\r\n  private timeOuter: any\r\n  private searchTable() {\r\n    if (this.timeOuter) {\r\n      clearTimeout(this.timeOuter)\r\n      this.timeOuter = null\r\n    } else {\r\n      setTimeout(() => {\r\n        this.getTableData()\r\n      }, 400)\r\n    }\r\n  }\r\n  private handleSelectionChange(val: any) {\r\n    this.multipleSelection = val\r\n  }\r\n  private beforeDestroy() {\r\n    clearInterval(this.timer)\r\n  }\r\n  private changeState(item: any) {\r\n    this.state = item.value\r\n    this.page = 1\r\n    this.getTableData()\r\n    if (this.state == 1) {\r\n      this.timer = setInterval(() => {\r\n        this.getTableData()\r\n      }, 5000)\r\n    } else {\r\n      clearInterval(this.timer)\r\n      this.timer = null\r\n    }\r\n  }\r\n  private currentChange(val: number | string) {\r\n    this.page = parseInt(`${val}`)\r\n    this.getTableData()\r\n  }\r\n\r\n  private async reflashTable() {\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      state: this.state,\r\n    }\r\n    this.loadingStart()\r\n    const { status, msg, data } = await this.services.setting.agentList(params)\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    const dataMap = {}\r\n    data &&\r\n      data.forEach((item: any) => {\r\n        return (dataMap[item.id] = item)\r\n      })\r\n    console.log(this.tableData, dataMap)\r\n    this.tableData.forEach((item: any) => {\r\n      for (const key in item) {\r\n        item[key] = dataMap[item.id][key]\r\n      }\r\n    })\r\n  }\r\n\r\n  private async getTableData() {\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      state: this.state,\r\n      token: this.searchValue,\r\n    }\r\n    this.loadingStart()\r\n    const { status, msg, data, page } = await this.services.setting.agentList(\r\n      params\r\n    )\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    this.tableData = data\r\n    this.currentPageSize = data.length\r\n    this.total = page.alltotal\r\n    this.currentPageDelete = 0\r\n    console.log(this.currentPageSize)\r\n  }\r\n\r\n  private async agentInstall(id: string | number) {\r\n    this.loadingStart()\r\n    const { status, msg } = await this.services.setting.agentInstall({\r\n      id: parseInt(`${id}`),\r\n    })\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    await this.getTableData()\r\n  }\r\n\r\n  private async deleteAgents() {\r\n    this.$confirm(\r\n      this.$t('views.agentManage.delAgentInfo') as string,\r\n      this.$t('views.agentManage.delAgentPop') as string,\r\n      {\r\n        confirmButtonText: this.$t(\r\n          'views.agentManage.confirmButtonText'\r\n        ) as string,\r\n        cancelButtonText: this.$t(\r\n          'views.agentManage.cancelButtonText'\r\n        ) as string,\r\n        type: 'warning',\r\n      }\r\n    ).then(async () => {\r\n      this.loadingStart()\r\n      const params = {\r\n        ids: String(\r\n          this.multipleSelection.map((item: any) => parseInt(item.id))\r\n        ),\r\n      }\r\n      const { status, msg } = await this.services.setting.deleteAgents(params)\r\n      this.loadingDone()\r\n      if (status !== 201) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: msg,\r\n          showClose: true,\r\n        })\r\n        return\r\n      }\r\n      this.$message({\r\n        type: 'success',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      await this.getTableData()\r\n    })\r\n  }\r\n\r\n  private async agentStart(id: any) {\r\n    this.loadingStart()\r\n    let params = {}\r\n    if (id) {\r\n      params = { id: parseInt(id) }\r\n    } else {\r\n      params = {\r\n        ids: String(\r\n          this.multipleSelection.map((item: any) => parseInt(item.id))\r\n        ),\r\n      }\r\n    }\r\n    const { status, msg } = await this.services.setting.agentStart(params)\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    this.$message({\r\n      type: 'success',\r\n      message: msg,\r\n      showClose: true,\r\n    })\r\n    await this.getTableData()\r\n  }\r\n\r\n  private async agentStop(id: any) {\r\n    this.loadingStart()\r\n    let params: any\r\n    if (id) {\r\n      params = { id: parseInt(id) }\r\n    } else {\r\n      params = {\r\n        ids: String(\r\n          this.multipleSelection.map((item: any) => parseInt(item.id))\r\n        ),\r\n      }\r\n    }\r\n    const { status, msg } = await this.services.setting.agentStop(params)\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    this.$message({\r\n      type: 'success',\r\n      message: msg,\r\n      showClose: true,\r\n    })\r\n    await this.getTableData()\r\n  }\r\n\r\n  private async agentUninstall(id: string | number) {\r\n    this.loadingStart()\r\n    const { status, msg } = await this.services.setting.agentUninstall({\r\n      id: parseInt(`${id}`),\r\n    })\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    await this.getTableData()\r\n  }\r\n\r\n  private async doDelete(id: string | number) {\r\n    this.deleteDialogOpen = true\r\n    this.deleteSelectId = parseInt(`${id}`)\r\n  }\r\n\r\n  private async agentDelete() {\r\n    this.deleteDialogOpen = false\r\n    this.loadingStart()\r\n    const { status, msg } = await this.services.setting.agentDelete({\r\n      id: this.deleteSelectId,\r\n    })\r\n    this.loadingDone()\r\n    if (status !== 201) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg,\r\n        showClose: true,\r\n      })\r\n      return\r\n    }\r\n    this.currentPageDelete = this.currentPageDelete + 1\r\n    if (this.currentPageDelete === this.currentPageSize) {\r\n      this.page = this.page - 1\r\n    }\r\n    await this.getTableData()\r\n    this.deleteSelectId = 0\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AgentManage.vue?vue&type=template&id=2ced8468&scoped=true&\"\nimport script from \"./AgentManage.vue?vue&type=script&lang=ts&\"\nexport * from \"./AgentManage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AgentManage.vue?vue&type=style&index=0&id=2ced8468&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ced8468\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=style&index=0&id=2ced8468&scoped=true&lang=scss&\""],"sourceRoot":""}