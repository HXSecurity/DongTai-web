{"version":3,"sources":["webpack:///./src/views/setting/AgentManage.vue?7d29","webpack:///./src/views/setting/AgentManage.vue?7b1e","webpack:///./src/views/setting/AgentManage.vue?8ae6","webpack:///./src/views/setting/AgentManage.vue","webpack:///./src/views/setting/AgentManage.vue?5cc7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","_l","item","key","value","class","state","on","$event","changeState","label","staticStyle","attrs","searchTable","model","callback","$$v","searchValue","expression","multipleSelection","length","agentStart","agentStop","deleteAgents","tableData","handleSelectionChange","scopedSlots","_u","fn","ref","row","project_name","server","system_load","rate","flow","method_queue","replay_queue","report_queue","is_core_running","running_status","scope","_f","latest_time","register_time","slot","userInfo","role","_e","language","isEdit","$set","alias","enterEdit","closeEdit","openEdit","is_control","update","id","doDelete","total","page","pageSize","currentChange","sizeChange","staticRenderFns","AgentManage","currentPageSize","currentPageDelete","deleteDialogOpen","deleteSelectId","stateOptions","type","services","setting","update_core","core_status","res","status","$message","success","msg","getTableData","error","timer","setInterval","reflashTable","timeOuter","clearTimeout","setTimeout","backAlias","$store","getters","aliasModified","val","clearInterval","parseInt","some","params","agentList","data","message","showClose","dataMap","forEach","JSON","parse","err","token","loadingStart","loadingDone","alltotal","agentInstall","warning","$confirm","confirmButtonText","cancelButtonText","then","ids","String","map","agentUninstall","agentDelete","Number","VueBase","Component","name","filters","formatTimestamp","date","component"],"mappings":"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","file":"js/chunk-28692b6c.033131b0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-warp\"},[_c('div',{staticClass:\"tool-bar\"},[_c('div',{staticClass:\"selectForm\"},[_c('div',{staticClass:\"select-item\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.state'))+\"：\")]),_vm._l((_vm.stateOptions),function(item){return _c('div',{key:item.value,staticClass:\"select-item\",class:item.value === _vm.state && 'active',on:{\"click\":function($event){return _vm.changeState(item)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])})],2),_c('div',{staticClass:\"tool-bar\"},[_c('el-input',{staticStyle:{\"margin-left\":\"12px\"},attrs:{\"size\":\"small\",\"placeholder\":_vm.$t('views.agentManage.searchValue')},on:{\"input\":_vm.searchTable},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1)]),_c('div',{staticClass:\"button-bar\"},[_c('div',{staticStyle:{\"color\":\"rgb(56, 67, 90)\"}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.choose'))+\" \"),_c('span',{staticStyle:{\"color\":\"rgb(74, 114, 174)\"}},[_vm._v(_vm._s(_vm.multipleSelection.length))]),_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.strip'))+\" \")]),_c('div',[_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\",\"disabled\":!_vm.state},on:{\"click\":function($event){return _vm.agentStart(0)}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.on')))]),_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\",\"disabled\":!_vm.state},on:{\"click\":function($event){return _vm.agentStop(0)}}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.off')))]),_c('el-button',{staticClass:\"resetAllBtn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.deleteAgents}},[_vm._v(\" \"+_vm._s(_vm.$t('views.agentManage.del')))])],1)]),_c('el-table',{staticClass:\"agentManageTable\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"header-align\":\"center\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.projectName'),\"prop\":\"project_name\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.project_name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.address'),\"prop\":\"server\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.server)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"150\",\"label\":_vm.$t('views.agentManage.payload'),\"prop\":\"system_load\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.system_load ? row.system_load.rate : '')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.flow') +\n        ' (' +\n        _vm.$t('views.agentManage.step') +\n        ')',\"prop\":\"is_core_running\",\"width\":\"140px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',[_vm._v(_vm._s(row.flow || 0))])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.method_queue') +\n        ' (' +\n        _vm.$t('views.agentManage.item') +\n        ')',\"prop\":\"server\",\"width\":\"170px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.method_queue)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.replay_queue') +\n        ' (' +\n        _vm.$t('views.agentManage.item') +\n        ')',\"width\":\"160px\",\"prop\":\"server\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.replay_queue)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.report_queue') +\n        ' (' +\n        _vm.$t('views.agentManage.item') +\n        ')',\"width\":\"160px\",\"prop\":\"server\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.report_queue)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.status'),\"prop\":\"is_core_running\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s(row.is_core_running == 1 ? _vm.$t('views.agentManage.is_core_running') : _vm.$t('views.agentManage.is_core_not_running'))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.healthy'),\"prop\":\"running_status\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',[_vm._v(\" \"+_vm._s(row.running_status)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"170px\",\"label\":_vm.$t('views.agentManage.timestapm')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatTimestamp\")(scope.row.latest_time))+\" \"),_c('el-popover',{attrs:{\"placement\":\"top-start\",\"width\":\"170\",\"trigger\":\"hover\"}},[_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#ccc\",\"margin-bottom\":\"6px\"}},[_vm._v(\" Agent 注册时间: \")]),_c('p',[_vm._v(_vm._s(_vm._f(\"formatTimestamp\")(scope.row.register_time)))]),_c('i',{staticClass:\"el-icon-info\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})])]}}])}),(_vm.userInfo.role === 1 || _vm.userInfo.role === 2)?_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.startupTime'),\"prop\":\"startup_time\",\"width\":\"180px\"}}):_vm._e(),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.owner'),\"prop\":\"owner\",\"width\":\"120px\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.language'),\"prop\":\"language\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"dot\"},[_vm._v(\" \"+_vm._s(row.language)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Agent\",\"width\":\"320\",\"prop\":\"alias\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [(!row.isEdit)?_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"dot\",staticStyle:{\"width\":\"280px\"},attrs:{\"title\":row.alias}},[_vm._v(\" \"+_vm._s(row.alias)+\" \")]),_c('i',{staticClass:\"edit-icon el-icon-edit\",on:{\"click\":function($event){return _vm.openEdit(row)}}})]):_c('div',{staticClass:\"edit-agent\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('el-input',{staticStyle:{\"width\":\"280px\"},attrs:{\"maxlength\":\"100\"},model:{value:(row.alias),callback:function ($$v) {_vm.$set(row, \"alias\", $$v)},expression:\"row.alias\"}}),_c('span',{staticClass:\"alias-num\"},[_vm._v(_vm._s(row.alias.length)+\"/100\")]),_c('i',{staticClass:\"edit-icon el-icon-check\",on:{\"click\":function($event){return _vm.enterEdit(row)}}}),_c('i',{staticClass:\"edit-icon el-icon-close\",on:{\"click\":function($event){return _vm.closeEdit(row)}}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('views.agentManage.manage'),\"width\":\"360px\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var row = ref.row;\nreturn [_c('div',{staticClass:\"table-btn-box\"},[(row.is_control === 1)?[_c('el-button',{class:!_vm.state && 'icon-disabled',staticStyle:{\"color\":\"#4a72ae\",\"position\":\"absolute\",\"left\":\"0\"},attrs:{\"size\":\"small\",\"type\":\"text\"}},[_c('span',{staticClass:\"el-text el-icon-loading\"})])]:_vm._e(),[(row.is_core_running == 0)?_c('el-button',{staticStyle:{\"color\":\"#4a72ae\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":row.is_control === 1},on:{\"click\":function($event){return _vm.update(row.id, 3)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.startUp')))])]):_c('el-button',{staticStyle:{\"color\":\"#4a72ae\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":row.is_control === 1},on:{\"click\":function($event){return _vm.update(row.id, 4)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.suspend')))])])],_c('span',{staticClass:\"l\"},[_vm._v(\" | \")]),(row.is_core_running === 2)?_c('el-button',{staticStyle:{\"color\":\"#4a72ae\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":row.is_control === 1},on:{\"click\":function($event){return _vm.update(row.id, 2)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.register')))])]):_vm._e(),(row.is_core_running !== 2)?_c('el-button',{staticStyle:{\"color\":\"#4a72ae\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":row.is_control === 1},on:{\"click\":function($event){return _vm.update(row.id, 5)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.uninstall')))])]):_vm._e(),(row.is_core_running !== 0)?_c('span',{staticClass:\"l\"},[_vm._v(\" | \")]):_vm._e(),(row.is_core_running !== 0)?_c('el-button',{staticStyle:{\"color\":\"#4a72ae\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":row.is_control === 1},on:{\"click\":function($event){return _vm.update(row.id, 6)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.Demotion')))])]):_vm._e(),(row.is_core_running === 0)?_c('span',{staticClass:\"l\"},[_vm._v(\" | \")]):_vm._e(),(row.is_core_running === 0)?_c('el-button',{staticStyle:{\"color\":\"#4a72ae\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":row.is_control === 1},on:{\"click\":function($event){return _vm.update(row.id, 7)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.recovery')))])]):_vm._e(),_c('span',{staticClass:\"l\"},[_vm._v(\" | \")]),_c('el-button',{staticStyle:{\"color\":\"#f56262\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.doDelete(row.id)}}},[_c('span',{staticClass:\"el-text\"},[_vm._v(_vm._s(_vm.$t('views.agentManage.delete')))])])],2)]}}])})],1),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"total\":_vm.total,\"current-page\":_vm.page,\"page-size\":_vm.pageSize,\"layout\":\"total,sizes, prev, pager, next, jumper\",\"page-sizes\":[10, 20, 30, 40, 50]},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport VueBase from '@/VueBase'\nimport { Component } from 'vue-property-decorator'\nimport { AgentListObj } from '@/views/setting/types'\nimport { formatTimestamp } from '@/utils/utils'\n\n@Component({\n  name: 'AgentManage',\n  filters: {\n    formatTimestamp(date: number | any) {\n      return formatTimestamp(date)\n    },\n  },\n})\nexport default class AgentManage extends VueBase {\n  private tableData: Array<AgentListObj> = []\n  private total = 0\n  private page = 1\n  private state = 1\n  private pageSize = 10\n  private currentPageSize = 0\n  private currentPageDelete = 0\n  private deleteDialogOpen = false\n  private deleteSelectId = 0\n  private stateOptions = [\n    { value: 1, label: this.$t('views.agentManage.running') },\n    { value: 0, label: this.$t('views.agentManage.not_running') },\n  ]\n  private searchValue = ''\n  private multipleSelection = []\n  private async update(id: any, type: any) {\n    const res = await this.services.setting.update_core({\n      id: id,\n      core_status: type,\n    })\n    if (res.status === 201) {\n      this.$message.success(res.msg)\n      this.getTableData()\n      return\n    }\n    this.$message.error(res.msg)\n  }\n  created() {\n    this.getTableData()\n    this.timer = setInterval(() => {\n      this.reflashTable()\n    }, 5000)\n  }\n  private timer: any\n  private timeOuter: any\n  private searchTable() {\n    if (this.timeOuter) {\n      clearTimeout(this.timeOuter)\n      this.timeOuter = null\n    } else {\n      setTimeout(() => {\n        this.getTableData()\n      }, 400)\n    }\n  }\n\n  private openEdit(item: any) {\n    item.isEdit = true\n    item.backAlias = item.alias\n  }\n\n  private closeEdit(item: any) {\n    item.isEdit = false\n    item.alias = item.backAlias\n  }\n\n  get userInfo() {\n    return this.$store.getters.userInfo\n  }\n\n  private async enterEdit(item: any) {\n    const res = await this.services.setting.aliasModified({\n      id: item.id,\n      alias: item.alias,\n    })\n    if (res.status === 201) {\n      this.$message.success(res.msg)\n      item.isEdit = false\n    } else {\n      this.$message.error(res.msg)\n    }\n  }\n\n  private handleSelectionChange(val: any) {\n    this.multipleSelection = val\n  }\n  private beforeDestroy() {\n    clearInterval(this.timer)\n  }\n  private changeState(item: any) {\n    this.state = item.value\n    this.page = 1\n    this.getTableData()\n    if (this.state == 1) {\n      this.timer = setInterval(() => {\n        this.getTableData()\n      }, 5000)\n    } else {\n      clearInterval(this.timer)\n      this.timer = null\n    }\n  }\n  private currentChange(val: number | string) {\n    this.page = parseInt(`${val}`)\n    this.getTableData()\n  }\n\n  private sizeChange(val: number | string) {\n    this.pageSize = parseInt(`${val}`)\n    this.getTableData()\n  }\n\n  private async reflashTable() {\n    if (this.tableData.some((item: any) => item.isEdit)) {\n      return\n    }\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      state: this.state,\n    }\n    const { status, msg, data } = await this.services.setting.agentList(params)\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    const dataMap = {}\n    data &&\n      data.forEach((item: any) => {\n        return (dataMap[item.id] = item)\n      })\n    this.tableData.forEach((item: any) => {\n      for (const key in item) {\n        item[key] = dataMap[item.id][key]\n      }\n      try {\n        item.system_load = JSON.parse(item.system_load)\n      } catch (err) {\n        item.system_load = { rate: 0 }\n      }\n    })\n  }\n\n  private async getTableData() {\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      state: this.state,\n      token: this.searchValue,\n    }\n    this.loadingStart()\n    const { status, msg, data, page } = await this.services.setting.agentList(\n      params\n    )\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    if (data.length === 0 && this.page > 1) {\n      this.page--\n      await this.getTableData()\n      return\n    }\n    this.tableData = data\n    this.tableData.forEach((item: any) => {\n      this.$set(item, 'isEdit', false)\n      this.$set(item, 'backAlias', '')\n      try {\n        item.system_load = JSON.parse(item.system_load)\n      } catch (err) {\n        item.system_load = { rate: 0 }\n      }\n    })\n    this.currentPageSize = data.length\n    this.total = page.alltotal\n    this.currentPageDelete = 0\n  }\n\n  private async agentInstall(id: string | number) {\n    this.loadingStart()\n    const { status, msg } = await this.services.setting.agentInstall({\n      id: parseInt(`${id}`),\n    })\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    await this.getTableData()\n  }\n\n  private async deleteAgents() {\n    if (this.multipleSelection.length === 0) {\n      this.$message.warning(\n        this.$t('views.agentManage.selectWarning') as string\n      )\n      return\n    }\n    this.$confirm(\n      this.$t('views.agentManage.delAgentInfo') as string,\n      this.$t('views.agentManage.delAgentPop') as string,\n      {\n        confirmButtonText: this.$t(\n          'views.agentManage.confirmButtonText'\n        ) as string,\n        cancelButtonText: this.$t(\n          'views.agentManage.cancelButtonText'\n        ) as string,\n        type: 'warning',\n      }\n    ).then(async () => {\n      this.loadingStart()\n      const params = {\n        ids: String(\n          this.multipleSelection.map((item: any) => parseInt(item.id))\n        ),\n      }\n      const { status, msg } = await this.services.setting.deleteAgents(params)\n      this.loadingDone()\n      if (status !== 201) {\n        this.$message({\n          type: 'error',\n          message: msg,\n          showClose: true,\n        })\n        return\n      }\n      this.$message({\n        type: 'success',\n        message: msg,\n        showClose: true,\n      })\n      await this.getTableData()\n    })\n  }\n\n  private async agentStart(id: any) {\n    if (!this.state) {\n      return\n    }\n    if (id === 0) {\n      if (this.multipleSelection.length === 0) {\n        this.$message.warning(\n          this.$t('views.agentManage.selectWarning') as string\n        )\n        return\n      }\n    }\n    this.loadingStart()\n    let params = {}\n    if (id) {\n      params = { id: parseInt(id) }\n    } else {\n      params = {\n        ids: String(\n          this.multipleSelection.map((item: any) => parseInt(item.id))\n        ),\n      }\n    }\n    const { status, msg } = await this.services.setting.agentStart(params)\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    this.$message({\n      type: 'success',\n      message: msg,\n      showClose: true,\n    })\n    await this.getTableData()\n  }\n\n  private async agentStop(id: any) {\n    if (!this.state) {\n      return\n    }\n    if (id === 0) {\n      if (this.multipleSelection.length === 0) {\n        this.$message.warning(\n          this.$t('views.agentManage.selectWarning') as string\n        )\n        return\n      }\n    }\n    this.loadingStart()\n    let params: any\n    if (id) {\n      params = { id: parseInt(id) }\n    } else {\n      params = {\n        ids: String(\n          this.multipleSelection.map((item: any) => parseInt(item.id))\n        ),\n      }\n    }\n    const { status, msg } = await this.services.setting.agentStop(params)\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    this.$message({\n      type: 'success',\n      message: msg,\n      showClose: true,\n    })\n    await this.getTableData()\n  }\n\n  private async agentUninstall(id: string | number) {\n    this.loadingStart()\n    const { status, msg } = await this.services.setting.agentUninstall({\n      id: parseInt(`${id}`),\n    })\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n    await this.getTableData()\n  }\n\n  private async doDelete(id: string | number) {\n    this.$confirm(\n      this.$t('views.strategyManage.deleteWarning') as string,\n      this.$t('views.strategyManage.deletePop') as string,\n      {\n        confirmButtonText: this.$t('views.strategyManage.enter') as string,\n        cancelButtonText: this.$t('views.strategyManage.clear') as string,\n        type: 'warning',\n      }\n    ).then(async () => {\n      debugger\n      const { status, msg } = await this.services.setting.agentDelete({\n        id: Number(id),\n      })\n      if (status !== 201) {\n        this.$message({\n          type: 'error',\n          message: msg,\n          showClose: true,\n        })\n        return\n      }\n      this.$message({ type: 'success', message: msg, showClose: true })\n\n      this.currentPageDelete = this.currentPageDelete + 1\n      if (this.currentPageDelete === this.currentPageSize) {\n        this.page = this.page - 1\n      }\n      await this.getTableData()\n      this.deleteSelectId = 0\n    })\n  }\n\n  private async agentDelete() {\n    this.loadingStart()\n    const { status, msg } = await this.services.setting.agentDelete({\n      id: this.deleteSelectId,\n    })\n    this.loadingDone()\n    if (status !== 201) {\n      this.$message({\n        type: 'error',\n        message: msg,\n        showClose: true,\n      })\n      return\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AgentManage.vue?vue&type=template&id=188f1f80&scoped=true&\"\nimport script from \"./AgentManage.vue?vue&type=script&lang=ts&\"\nexport * from \"./AgentManage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AgentManage.vue?vue&type=style&index=0&id=188f1f80&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"188f1f80\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentManage.vue?vue&type=style&index=0&id=188f1f80&scoped=true&lang=scss&\""],"sourceRoot":""}