(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e9bf068"],{4761:function(e,t,n){},d0a5:function(e,t,n){"use strict";n("4761")},d1c5:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("div",{staticClass:"onlneTitle"},[e._v(" "+e._s(e.$t("views.upgradeOnline.online"))+" ")]),n("div",{staticClass:"onlineDesc"},[e._v(" "+e._s(e.$t("views.upgradeOnline.onlineDesc"))+" ")]),n("div",{staticClass:"address"},[e._v(" "+e._s(e.$t("views.upgradeOnline.address"))+" ")]),n("div",{staticClass:"upgradeUrl"},[n("el-input",{class:e.editUrl?"":"editInput",staticStyle:{width:"400px"},attrs:{readonly:!e.editUrl,size:"small"},on:{blur:function(t){e.editUrl=!1}},model:{value:e.upgrade_url,callback:function(t){e.upgrade_url=t},expression:"upgrade_url"}}),e.editUrl?e._e():n("i",{staticClass:"iconfont iconbianji-6",on:{click:function(t){e.editUrl=!0}}})],1),n("div",{staticClass:"upradeOnline"},[n("el-button",{staticClass:"onlineSubmit",attrs:{type:"text"},on:{click:e.upgradeOnline}},[e._v(" "+e._s(e.$t("views.upgradeOnline.onlineSubmit"))+" ")])],1),n("div",{staticClass:"onlneTitle",staticStyle:{"margin-top":"60px"}},[e._v(" "+e._s(e.$t("views.upgradeOnline.offline"))+" ")]),n("div",{staticClass:"onlineDesc"},[e._v(" "+e._s(e.$t("views.upgradeOnline.offlineDesc"))+" ")]),n("div",{staticClass:"address"},[e._v(" "+e._s(e.$t("views.upgradeOnline.select"))+" "),n("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[n("el-upload",{ref:"upload",attrs:{action:"","http-request":e.uploadOneFile,"file-list":e.fileList,accept:".jar","auto-upload":!1}},[n("el-button",{staticClass:"fileBtn",attrs:{slot:"trigger",type:"text"},slot:"trigger"},[e._v("选取文件")]),n("el-button",{staticClass:"uploadBtn",attrs:{type:"text"},on:{click:e.uploadOneFile}},[e._v("上传到服务器")]),n("div",{staticClass:"el-upload__tip",staticStyle:{"margin-left":"20px"},attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jar文件 ")])],1)],1)])])},a=[],r=n("60b5"),i=n("303e"),l=n("acf6"),u=n("e378"),c=n("a8e5"),o=(n("6a61"),n("21c9")),p=n("8c73"),d=n("e4a1"),v=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.token="",e.upgrade_url="asd",e.editUrl=!1,e.fileList=[],e}return Object(l["a"])(n,[{key:"created",value:function(){this.userToken()}},{key:"userToken",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.user.userToken();case 2:if(t=e.sent,n=t.status,s=t.msg,a=t.token,r=t.upgrade_url,201===n){e.next=10;break}return this.$message.error(s),e.abrupt("return");case 10:this.token=a,this.upgrade_url=r;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"upgradeOnline",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={url:this.upgrade_url,token:this.token},e.next=3,this.services.setting.upgradeOnline("Token ".concat(this.token),t);case 3:if(n=e.sent,s=n.status,a=n.msg,201===s){e.next=9;break}return this.$message.error(a),e.abrupt("return");case 9:this.$message.success(a);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"uploadOneFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.$refs.upload),t=new FormData,t.append("file",this.$refs.upload.uploadFiles[0].raw),e.next=5,this.services.setting.upgradeOffline(t);case 5:if(n=e.sent,s=n.status,a=n.msg,201===s){e.next=11;break}return this.$message.error(a),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(p["a"]);v=Object(o["c"])([Object(d["a"])({name:"UpgradeOnline"})],v);var f=v,g=f,h=(n("d0a5"),n("5d22")),b=Object(h["a"])(g,s,a,!1,null,"4a83af11",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-4e9bf068.c9778bfc.js.map