(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73e8514f"],{"3daf":function(e,t,a){},"916a":function(e,t,a){"use strict";a("3daf")},cbf4:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[a("div",{staticClass:"footerBg"}),a("div",{staticClass:"container flex-row-space-between"},[a("div",{staticClass:"sliderWarp"},[a("div",{staticClass:"step linghtStep"},[e._v("1")]),a("div",{staticClass:"transitionline",class:e.curStep>=2?"lightLine":"grayLine"}),a("div",{staticClass:"step",class:e.curStep>=2?"linghtStep":"grayStep"},[e._v(" 2 ")]),a("div",{staticClass:"transitionline",class:3===e.curStep?"lightLine":"grayLine"}),a("div",{staticClass:"step",class:3===e.curStep?"linghtStep":"grayStep"},[e._v(" 3 ")])]),a("div",{staticClass:"contentWarp"},[1===e.curStep?a("div",{staticClass:"stepWarp"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("div",{staticClass:"title"},[e._v("第一步，选择Agent类型")])]),a("el-form-item",[a("div",{staticClass:"label"},[e._v("请选择Agent类型")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择Agent类型"},model:{value:e.deployForm.agent,callback:function(t){e.$set(e.deployForm,"agent",t)},expression:"deployForm.agent"}},e._l(e.agents,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",[a("div",{staticClass:"desc"},[e._v(" 根据应用程序使用的开发语言选择对应的Agent类型，使用Java语言开发的应用程序选择Java、使用c#、.Net Framework开发的应用程序选择.Net Framework、使用.Net Core开发的应用程序选择.Net Core ")])]),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticClass:"nextBtn",attrs:{type:"text"},on:{click:function(t){e.curStep=2}}},[e._v(" 下一步 ")])],1)],1)],1):e._e(),2===e.curStep?a("div",{staticClass:"stepWarp"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("div",{staticClass:"title"},[e._v("第二步，选择应用的运行环境")])]),a("el-form-item",[a("div",{staticClass:"label"},[e._v("Java版本")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择Java版本"},model:{value:e.deployForm.javaVersion,callback:function(t){e.$set(e.deployForm,"javaVersion",t)},expression:"deployForm.javaVersion"}},e._l(e.javaVersion,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",[a("div",{staticClass:"label"},[e._v("中间件")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择中间件"},model:{value:e.deployForm.middleware,callback:function(t){e.$set(e.deployForm,"middleware",t)},expression:"deployForm.middleware"}},e._l(e.middlewares,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",[a("div",{staticClass:"label"},[e._v("操作系统")]),a("el-select",{staticClass:"deploySelect",staticStyle:{width:"514px"},attrs:{placeholder:"请选择操作系统"},model:{value:e.deployForm.system,callback:function(t){e.$set(e.deployForm,"system",t)},expression:"deployForm.system"}},e._l(e.system,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",[a("div",{staticClass:"label"},[e._v("项目名称")]),a("el-input",{staticStyle:{width:"514px"},model:{value:e.deployForm.projectName,callback:function(t){e.$set(e.deployForm,"projectName",t)},expression:"deployForm.projectName"}})],1),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticClass:"prevBtn",attrs:{type:"text"},on:{click:function(t){e.curStep=1}}},[e._v(" 上一步 ")]),a("el-button",{staticClass:"nextBtn",attrs:{type:"text"},on:{click:e.agentDeploySubmit}},[e._v(" 下一步 ")])],1)],1)],1):e._e(),3===e.curStep?a("div",{staticClass:"stepWarp"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"title"},[e._v("第三步，下载与配置")]),a("div",{staticClass:"token"},[a("p",{staticStyle:{color:"#4a72ae"}},[e._v("为了启用洞态，需要增加如下JVM配置")]),a("p",[e._v("-javaagent:/path/to/server/agent.jar")])])]),a("el-form-item",{staticStyle:{"margin-bottom":"0"}},[a("div",{staticClass:"label"},[e._v("下载")]),a("div",{staticClass:"downloadInfo"},[a("div",{staticClass:"desc"},[e._v(" 下载洞态IAST的Agent，将agent.jar文件放入WEB服务器（中间件）所在机器上，保证agent.jar文件所在目录具有可写权限 ")]),a("div",{staticClass:"moudleTitle"},[e._v(" 手动下载： "),a("button",{staticClass:"downloadBtn",attrs:{type:"text"},on:{click:e.agentDownload}},[a("i",{staticClass:"el-icon-download"}),e._v(" 点击下载 ")])]),a("div",{staticClass:"moudleTitle"},[e._v("自动下载：")]),a("div",{staticClass:"command token"},[e._v(" "+e._s('curl -X GET "'+e.url+"/api/v1/agent/download?url="+e.url+"&jdk.version="+encodeURI(this.deployForm.javaVersion)+"&projectName="+encodeURI(e.deployForm.projectName)+"\" -H 'Authorization: Token "+e.userToken+"' -o agent.jar -k")+" ")])])]),a("el-form-item",[a("div",{staticClass:"label"},[e._v("配置")]),a("div",{staticClass:"descWarp"},[a("MyMarkdownIt",{attrs:{content:e.desc}})],1)]),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{staticClass:"prevBtn",attrs:{type:"text"},on:{click:function(t){e.curStep=2}}},[e._v(" 上一步 ")]),a("el-button",{staticClass:"nextBtn",attrs:{type:"text"},on:{click:e.agentDeployFinish}},[e._v(" 完成 ")])],1)],1)],1):e._e()])])])},r=[],n=a("60b5"),i=a("303e"),o=a("acf6"),l=a("e378"),c=a("a8e5"),p=(a("6a61"),a("21c9")),u=a("8c73"),d=a("e4a1"),m=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.curStep=1,e.deployForm={agent:"",javaVersion:"",middleware:"",system:"",projectName:"Demo Project"},e.agents=[],e.javaVersion=[],e.middlewares=[],e.system=[],e.userToken="",e.desc="",e.url="",e}return Object(o["a"])(a,[{key:"created",value:function(){this.getDeplogInfo(),this.agentDeployInfo(),this.getOpenApiUrl()}},{key:"getOpenApiUrl",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.deploy.getOpenApiUrl();case 2:if(t=e.sent,a=t.status,s=t.msg,r=t.data,201===a){e.next=9;break}return this.$message.error(s),e.abrupt("return");case 9:this.url=r.url;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDeplogInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.services.deploy.getDeplogInfo();case 3:if(t=e.sent,a=t.status,s=t.msg,r=t.data,t.step,n=t.user_token,i=t.desc,this.loadingDone(),201===a){e.next=14;break}return this.$message.error(s),e.abrupt("return");case 14:this.userToken=n,this.desc=i,this.deployForm={agent:r.agent_value,javaVersion:r.java_version,middleware:r.middleware,system:r.system,projectName:r.project_name||"Demo Project"};case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"agentDeployInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.services.deploy.agentDeployInfo();case 3:if(t=e.sent,a=t.status,s=t.msg,r=t.data,this.loadingDone(),201===a){e.next=11;break}return this.$message.error(s),e.abrupt("return");case 11:this.agents=r.agents,this.javaVersion=r.java_version,this.middlewares=r.middlewares,this.system=r.system;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"agentDownload",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.services.deploy.agentDownload(this.url,this.deployForm.javaVersion,this.deployForm.projectName);case 3:this.loadingDone();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"agentDeploySubmit",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={agent_value:this.deployForm.agent,java_version:this.deployForm.javaVersion,middleware:this.deployForm.middleware,system:this.deployForm.system},this.loadingStart(),e.next=4,this.services.deploy.agentDeploySubmit(t);case 4:if(a=e.sent,s=a.status,r=a.msg,n=a.user_token,i=a.desc,this.loadingDone(),201===s){e.next=13;break}return this.$message.error(r),e.abrupt("return");case 13:this.curStep=3,this.userToken=n,this.desc=i;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"agentDeployFinish",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.curStep=1,this.$router.push("/");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(u["a"]);m=Object(p["c"])([Object(d["a"])({name:"Deploy"})],m);var v=m,y=v,h=(a("916a"),a("5d22")),f=Object(h["a"])(y,s,r,!1,null,"12628e9f",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-73e8514f.3f37aa7a.js.map