(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c84da28a"],{"06df":function(e,t,a){"use strict";a("0bbf")},"0bbf":function(e,t,a){},"13d5":function(e,t,a){"use strict";var n=a("23e7"),r=a("d58f").left,i=a("a640"),c=a("ae40"),s=a("2d00"),l=a("605d"),o=i("reduce"),u=c("reduce",{1:0}),p=!l&&s>79&&s<83;n({target:"Array",proto:!0,forced:!o||!u||p},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},d58f:function(e,t,a){var n=a("1c0b"),r=a("7b0b"),i=a("44ad"),c=a("50c4"),s=function(e){return function(t,a,s,l){n(a);var o=r(t),u=i(o),p=c(o.length),f=e?p-1:0,d=e?-1:1;if(s<2)while(1){if(f in u){l=u[f],f+=d;break}if(f+=d,e?f<0:p<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:p>f;f+=d)f in u&&(l=a(l,u[f],f,o));return l}};e.exports={left:s(!1),right:s(!0)}},d9e8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"container"},[a("div",{staticClass:"select-warp flex-row-space-between"},[a("div",{staticClass:"flex-column-center"},[a("el-button",{staticClass:"projectAdd",attrs:{type:"text"},on:{click:function(t){return e.$router.push("/project/projectEdit")}}},[a("i",{staticClass:"iconfont iconxinzengxiangmu-3"}),e._v(" "+e._s(e.$t("views.projectManage.add"))+" ")])],1),a("div",{staticClass:"flex-column-center"},[a("el-input",{staticStyle:{width:"462px"},attrs:{placeholder:e.$t("views.projectManage.searchName"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newSelectData(t)}},model:{value:e.searchObj.name,callback:function(t){e.$set(e.searchObj,"name",t)},expression:"searchObj.name"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:e.newSelectData},slot:"suffix"})])],1)]),a("div",{staticClass:"list-warp"},[a("div",{staticClass:"top-line flex-row-space-between",staticStyle:{"margin-left":"8px"}},[e._v(" "+e._s(e.$t("views.projectManage.title"))+" ")]),a("el-table",{staticClass:"projectList-table",staticStyle:{border:"1px"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{width:"200px",prop:"name",label:e.$t("views.projectManage.name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.name,placement:"top",disabled:n.name.length<24}},[a("div",{staticClass:"projectName",on:{click:function(t){return e.$router.push("/project/projectDetail/"+n.id)}}},[e._v(" "+e._s(n.name)+" ")])])]}}])}),a("el-table-column",{staticStyle:{"padding-left":"20px"},attrs:{width:"300px",label:e.$t("views.projectManage.vul")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(n.vul_count,(function(t){return a("span",{key:t.level,staticStyle:{"margin-right":"10px"}},[a("i",{staticClass:"iconfont iconyuandianzhong",staticStyle:{"font-size":"12px"},style:1===t.level?{color:"#DF6060"}:2===t.level?{color:"#F49E0B"}:3===t.level||4===t.level?{color:"#2F90EA"}:""}),e._v(e._s(t.name)+" "+e._s(t.total)+" ")])}))}}])}),a("el-table-column",{attrs:{prop:"agent_count",width:"140px",label:e.$t("views.projectManage.agent")}}),a("el-table-column",{attrs:{prop:"owner",label:e.$t("views.projectManage.owner")}}),a("el-table-column",{attrs:{prop:"latest_time",label:e.$t("views.projectManage.time")}}),a("el-table-column",{attrs:{label:e.$t("views.projectManage.manage"),width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("i",{staticClass:"iconfont iconshezhi-2 pIcon",on:{click:function(t){return e.$router.push("/project/projectEdit/"+n.id)}}}),a("i",{staticClass:"iconfont iconshanchu-6 pIcon",on:{click:function(t){return e.projectDelete(n.id)}}})]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",total:e.total,"page-size":e.pageSize,"current-page":e.page},on:{"current-change":e.currentChange}})],1)],1)])},r=[],i=(a("13d5"),a("b0c0"),a("5530")),c=(a("96cf"),a("1da1")),s=a("d4ec"),l=a("bee2"),o=a("262e"),u=a("2caf"),p=a("9ab4"),f=a("8c73"),d=a("60a3"),h=a("73ec"),b=function(e){Object(o["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.page=1,e.pageSize=20,e.total=0,e.tableData=[],e.searchObj={name:""},e}return Object(l["a"])(a,[{key:"created",value:function(){this.getTableData()}},{key:"newSelectData",value:function(){this.page=1,this.getTableData()}},{key:"currentChange",value:function(e){this.page=e,this.getTableData()}},{key:"getTableData",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={page:this.page,pageSize:this.pageSize,name:this.searchObj.name},this.loadingStart(),e.next=4,this.services.project.projectList(t);case 4:if(a=e.sent,n=a.status,r=a.msg,c=a.data,s=a.page,this.loadingDone(),201===n){e.next=13;break}return this.$message({type:"error",message:r,showClose:!0}),e.abrupt("return");case 13:this.tableData=c.reduce((function(e,t){return t.vul_count.sort((function(e,t){return e.level-t.level})),e.push(Object(i["a"])(Object(i["a"])({},t),{},{latest_time:Object(h["b"])(t.latest_time)})),e}),[]),this.total=s.alltotal;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"projectDelete",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.project.projectDelete({id:t});case 2:if(a=e.sent,n=a.status,r=a.msg,201===n){e.next=8;break}return this.$message({type:"error",message:r,showClose:!0}),e.abrupt("return");case 8:return e.next=10,this.getTableData();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(f["a"]);b=Object(p["b"])([Object(d["a"])({name:"ProjectManage"})],b);var g=b,v=g,m=(a("06df"),a("2877")),w=Object(m["a"])(v,n,r,!1,null,"a5bb2044",null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-c84da28a.c4959d9e.js.map