(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e2053b4"],{"12b5":function(e,t,a){var n=a("e65c"),s=a("e2c5"),r=a("1c20"),c=a("28b8"),i=c((function(){r(1)}));n({target:"Object",stat:!0,forced:i},{keys:function(e){return r(s(e))}})},2236:function(e,t,a){"use strict";var n=a("e65c"),s=a("7fac").left,r=a("642e"),c=a("4360"),i=a("9fca"),l=r("reduce"),o=!i&&c>79&&c<83;n({target:"Array",proto:!0,forced:!l||o},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"4a224":function(e,t,a){var n=a("e65c"),s=a("7746"),r=a("d344"),c=a("5d79"),i=a("4a15"),l=a("e541");n({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){var t,a,n=c(e),s=i.f,o=r(n),u={},p=0;while(o.length>p)a=s(n,t=o[p++]),void 0!==a&&l(u,t,a);return u}})},"58c8":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("d08d");function s(e){if(Array.isArray(e))return Object(n["a"])(e)}a("e31e"),a("d5be"),a("186d"),a("18a3"),a("c447"),a("9208"),a("b566");function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var c=a("caff");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return s(e)||r(e)||Object(c["a"])(e)||i()}},"5a53":function(e,t,a){"use strict";a("c05a")},6362:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"container scroll-class",style:{display:e.projectId&&"flex"}},[a("div",{class:e.projectId?"":"fixed-warp"},[a("div",{staticClass:"slider-warp",style:{marginTop:e.projectId&&"14px"}},[a("div",{staticClass:"title flex-column-center",staticStyle:{height:"54px"}},[a("div",{staticClass:"flex-row-space-between"},[a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.$t("views.vulnList.filter")))]),a("el-button",{staticClass:"resetAllBtn",attrs:{type:"text"},on:{click:e.reset}},[a("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.$t("views.vulnList.resetAll")))])])],1)]),e.projectId?e._e():[a("div",{staticClass:"module-title flex-row-space-between",staticStyle:{"margin-top":"14px","margin-bottom":"0px"}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("views.scaList.project_name")))]),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.projectNameChange("")}}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("views.vulnList.reset")))])])]),e._l(e.searchOptionsObj.projects,(function(t){return a("div",{key:t.project_name,staticClass:"flex-row-space-between module-line",class:e.searchObj.project_name===t.project_name?"selectedLine":"",style:0===t.count?{cursor:"not-allowed",height:"30px"}:{height:"30px"},on:{click:function(a){return e.projectNameChange(t.project_name,0===t.count)}}},[a("div",{staticClass:"selectOption"},[e._v(" "+e._s(e.projectNameSplit(t.project_name,12))+" ")]),a("div",{staticClass:"num"},[e._v(" "+e._s(t.count)+" ")])])}))],a("div",{staticClass:"module-title flex-row-space-between",staticStyle:{"margin-top":"14px","margin-bottom":"0px"}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.scaList.level"))+" ")]),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.levelChange("")}}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.vulnList.reset"))+" ")])])]),e._l(e.searchOptionsObj.level,(function(t){return a("div",{key:t.level_id,staticClass:"flex-row-space-between module-line",class:e.searchObj.level===t.level_id?"selectedLine":"",style:0===t.count?{cursor:"not-allowed",height:"30px"}:{height:"30px"},on:{click:function(a){return e.levelChange(t.level_id,0===t.count)}}},[a("div",{staticClass:"selectOption"},[e._v(" "+e._s(t.level)+" ")]),a("div",{staticClass:"num"},[e._v(" "+e._s(t.count)+" ")])])})),a("div",{staticClass:"module-title flex-row-space-between",staticStyle:{"margin-top":"14px","margin-bottom":"0px"}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.scaList.language"))+" ")]),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.levelChange("")}}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.$t("views.vulnList.reset"))+" ")])])]),e._l(e.searchOptionsObj.language,(function(t){return a("div",{key:t.language,staticClass:"flex-row-space-between module-line",class:e.searchObj.language===t.language?"selectedLine":"",style:0===t.count?{cursor:"not-allowed",height:"30px"}:{height:"30px"},on:{click:function(a){return e.languageChange(t.language,0===t.count)}}},[a("div",{staticClass:"selectOption"},[e._v(" "+e._s(t.language)+" ")]),a("div",{staticClass:"num"},[e._v(" "+e._s(t.count)+" ")])])}))],2)]),a("div",{staticClass:"main-warp",style:{marginLeft:e.projectId&&"28px",width:e.projectId&&"910px"}},[a("div",{staticClass:"selectForm"},[a("el-select",{staticClass:"commonSelect",staticStyle:{width:"160px","font-size":"14px"},attrs:{placeholder:"请选择排序条件",clearable:""},on:{change:e.newSelectData},model:{value:e.searchObj.order,callback:function(t){e.$set(e.searchObj,"order",t)},expression:"searchObj.order"}},e._l(e.searchOptionsObj.orderOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{staticClass:"commonSelect",staticStyle:{"margin-left":"10px",width:"160px","font-size":"14px"},attrs:{placeholder:"请选择开发语言",clearable:""},on:{change:e.newSelectData},model:{value:e.searchObj.language,callback:function(t){e.$set(e.searchObj,"language",t)},expression:"searchObj.language"}},[a("el-option",{attrs:{label:"JAVA",value:"JAVA"}}),a("el-option",{attrs:{label:".NET",value:".NET"}})],1),a("div",{staticClass:"selectInput"},[a("el-input",{staticClass:"commonInput",staticStyle:{width:"412px"},attrs:{placeholder:"请输入搜索条件，如：spring"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newSelectData(t)}},model:{value:e.searchObj.keyword,callback:function(t){e.$set(e.searchObj,"keyword",t)},expression:"searchObj.keyword"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:e.newSelectData},slot:"suffix"})])],1)],1),a("el-table",{staticClass:"sca-list",staticStyle:{width:"100%","margin-top":"18px",cursor:"pointer"},attrs:{data:e.tableData},on:{"row-click":e.goDetail}},[a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.name"),prop:"package_name","min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.package_name,placement:"top-start"}},[a("div",{staticClass:"dot"},[e._v(" "+e._s(n.package_name)+" ")])])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.version"),prop:"version",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.version,placement:"top-start"}},[a("div",{staticClass:"dot"},[e._v(" "+e._s(n.version)+" ")])])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.application"),prop:"project_name"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.project_name)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.language"),prop:"language",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.language)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.level"),prop:"level",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.level)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.count"),prop:"vul_count",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.vul_count)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("views.scaList.tableHeaders.time"),prop:"dt",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.dt)+" ")])]}}])})],1),a("ScrollToTop")],1)])},s=[],r=a("58c8"),c=a("6abc"),i=a("60b5"),l=a("303e"),o=a("acf6"),u=a("e378"),p=a("a8e5"),d=(a("6a61"),a("2236"),a("6390"),a("21c9")),v=a("e4a1"),b=a("73ec"),h=a("8c73"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"back-top",on:{click:e.scrollToTop}},[e._v("UP")])},g=[],m=function(e){Object(u["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(l["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"scrollToTop",value:function(){window.scrollTo({left:0,top:0,behavior:"smooth"})}}]),a}(v["c"]);m=Object(d["c"])([Object(v["a"])({name:"scrollToTop"})],m);var j=m,w=j,O=(a("5a53"),a("5d22")),y=Object(O["a"])(w,f,g,!1,null,"f908e280",null),_=y.exports,k=function(e){Object(u["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.page=1,e.pageSize=20,e.dataEnd=!1,e.tableData=[],e.searchOptionsObj={language:[],level:[],projects:[],orderOptions:[{label:e.$t("views.scaList.orderOptions.level"),value:"level"},{label:e.$t("views.scaList.orderOptions.package_name"),value:"package_name"},{label:e.$t("views.scaList.orderOptions.version"),value:"version"},{label:e.$t("views.scaList.orderOptions.language"),value:"language"},{label:e.$t("views.scaList.orderOptions.vul_count"),value:"vul_count"}]},e.searchObj={language:"",level:"",project_name:"",keyword:"",order:"",project_id:""},e}return Object(o["a"])(a,[{key:"created",value:function(){this.projectId&&(this.searchObj.project_id=this.projectId),this.getTableData(),this.scaSummary()}},{key:"reset",value:function(){this.searchObj.language="",this.searchObj.level="",this.searchObj.project_name="",this.newSelectData()}},{key:"languageChange",value:function(e,t){t||(this.searchObj.language=e,this.newSelectData())}},{key:"levelChange",value:function(e,t){t||(this.searchObj.level=e,this.newSelectData())}},{key:"projectNameChange",value:function(e,t){t||(this.searchObj.project_name=e,this.newSelectData())}},{key:"newSelectData",value:function(){this.page=1,this.tableData=[],this.scaSummary(),this.getTableData()}},{key:"mounted",value:function(){this.debounceMyScroll=Object(b["a"])(this.myScroll,400),window.addEventListener("scroll",this.debounceMyScroll)}},{key:"beforeDestroy",value:function(){window.removeEventListener("scroll",this.debounceMyScroll)}},{key:"myScroll",value:function(){var e=document.documentElement.scrollTop+window.innerHeight>document.documentElement.offsetHeight-1;e&&(this.dataEnd||(this.page+=1,this.getTableData(),document.documentElement.scrollTop=document.documentElement.scrollTop-10))}},{key:"getTableData",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,i,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={page:this.page,pageSize:this.pageSize,language:this.searchObj.language,level:this.searchObj.level,project_name:this.searchObj.project_name,keyword:this.searchObj.keyword,order:this.searchObj.order,project_id:this.searchObj.project_id},this.loadingStart(),e.next=4,this.services.sca.scaList(a);case 4:if(n=e.sent,s=n.status,i=n.data,l=n.msg,this.loadingDone(),201===s){e.next=12;break}return this.$message.error(l),e.abrupt("return");case 12:o=i.reduce((function(e,t){return e.push(Object(c["a"])(Object(c["a"])({},t),{},{dt:Object(b["b"])(t.dt)})),e}),[]),o.length<20&&(this.dataEnd=!0),(t=this.tableData).push.apply(t,Object(r["a"])(o));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"scaSummary",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={language:this.searchObj.language,level:this.searchObj.level,project_name:this.searchObj.project_name,keyword:this.searchObj.keyword,order:this.searchObj.order,project_id:this.searchObj.project_id},this.loadingStart(),e.next=4,this.services.sca.scaSummary(t);case 4:if(a=e.sent,n=a.status,s=a.data,r=a.msg,this.loadingDone(),201===n){e.next=12;break}return this.$message.error(r),e.abrupt("return");case 12:this.searchOptionsObj.language=s.language,this.searchOptionsObj.level=s.level,this.searchOptionsObj.projects=s.projects;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goDetail",value:function(e){this.$router.push("/sca/scaDetail/".concat(this.page,"/").concat(e.id))}},{key:"projectNameSplit",value:function(e,t){return e.length>t?e.substring(0,t):e}}]),a}(h["a"]);Object(d["c"])([Object(v["b"])(String)],k.prototype,"projectId",void 0),k=Object(d["c"])([Object(v["a"])({name:"ScaList",components:{ScrollToTop:_}})],k);var x=k,S=x,C=(a("f998"),Object(O["a"])(S,n,s,!1,null,"0045c923",null));t["default"]=C.exports},"6abc":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("12b5"),a("e31e"),a("b0da"),a("ec1e"),a("9719"),a("4a224");function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"7fac":function(e,t,a){var n=a("acaa"),s=a("e2c5"),r=a("7fdb"),c=a("54d5"),i=function(e){return function(t,a,i,l){n(a);var o=s(t),u=r(o),p=c(o.length),d=e?p-1:0,v=e?-1:1;if(i<2)while(1){if(d in u){l=u[d],d+=v;break}if(d+=v,e?d<0:p<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:p>d;d+=v)d in u&&(l=a(l,u[d],d,o));return l}};e.exports={left:i(!1),right:i(!0)}},"9b18":function(e,t,a){},c05a:function(e,t,a){},ec1e:function(e,t,a){var n=a("e65c"),s=a("28b8"),r=a("5d79"),c=a("4a15").f,i=a("7746"),l=s((function(){c(1)})),o=!i||l;n({target:"Object",stat:!0,forced:o,sham:!i},{getOwnPropertyDescriptor:function(e,t){return c(r(e),t)}})},f998:function(e,t,a){"use strict";a("9b18")}}]);
//# sourceMappingURL=chunk-2e2053b4.2a394f88.js.map